{"version":3,"file":"static/js/HomePage.2bbd6c94.chunk.js","mappings":"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","sources":["components/PieChart/PieChart.js","pages/Home/Home.js","services/categories.js","services/product.js","services/user.js"],"sourcesContent":["import React from \"react\";\nimport Highcharts from \"highcharts/highstock\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport HC_more from 'highcharts/highcharts-more';\n\nHC_more(Highcharts);\n\nconst PieChart = ({data}) => {\n    const options = {\n        chart: {\n            plotBackgroundColor: null,\n            plotBorderWidth: null,\n            plotShadow: false,\n            type: 'pie'\n        },\n        title: {\n            text: 'Money invested in FPV-World'\n        },\n        tooltip: {\n            pointFormat: '{series.name}: <b>{point.y:.1f} UAN</b>'\n        },\n        accessibility: {\n            point: {\n                valueSuffix: '%'\n            }\n        },\n        credits:{\n            enabled: false\n        },\n        plotOptions: {\n            pie: {\n                allowPointSelect: true,\n                cursor: 'pointer',\n            }\n        },\n        series: [{\n            name: 'Money',\n            colorByPoint: true,\n            data: [...data]\n        }]\n    }\n\n    return (\n       <div>\n          <HighchartsReact highcharts={Highcharts} options={options}/>\n       </div>\n    )\n};\n\nexport default PieChart;\n\n\n","import {useNavigate} from 'react-router-dom';\nimport {useEffect, useState} from \"react\";\nimport PieChart from \"../../components/PieChart\";\n\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {userApi} from \"../../services\";\n\ntoast.configure();\n\nconst Home = ({isLoggedIn}) => {\n    const navigate = useNavigate();\n\n    const [data, setData] = useState([]);\n    const [mounted, setMounted] = useState(false);\n\n    const reducer = (previousValue, currentValue) => previousValue + currentValue;\n\n    useEffect(()=>{\n        if (!isLoggedIn){\n            navigate('/login')\n        }\n    },[isLoggedIn]);\n\n    useEffect(()=>{\n        fetchUsers();\n        return () => {\n            setMounted(true);\n        }\n    },[])\n\n    const fetchUsers = async () => {\n        try {\n            const response = await userApi.getAllUsers();\n            setData([...response].map(el=>{\n                const arr = el.money.map(el=>el.count);\n                const sum = arr.length > 0 ? arr.reduce(reducer): 0;\n                return {\n                   name:el.login,\n                    y: sum\n                }\n            }))\n        }catch (e) {\n            toast.error(e.message, {\n                position:'top-center'\n            })\n        }\n    }\n\n    return(\n        <div>\n            {\n                data.length > 0 && <PieChart data={data}/>\n            }\n        </div>\n    )\n}\n\nexport default Home;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addCategory = (name) => {\n    return axios.post(`/Catigories/add/${name}`).then(({data}) => data);\n}\n\nconst removeCategory = (id) => {\n    return axios.delete(`/Catigories/delete/${id}`)\n}\n\nconst editCategory = (newName, id) => {\n    return axios.post(`Catigories/changeName/${id}?newName=${newName}`)\n        .then(({data})=>data);\n}\n\nconst getCategories = () => {\n    return axios.get('/Catigories/GetAll').then(({data})=>data);\n}\n\nconst categoriesApi = {\n    addCategory,\n    removeCategory,\n    editCategory,\n    getCategories\n}\n\nexport default categoriesApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addProduct = (product) => {\n    return axios.post('/Product/add', product).then(({data})=> data);\n}\n\nconst deleteProduct = (id) => {\n    return axios.delete(`/Product/delete/${id}`);\n}\n\nconst getProducts = () => {\n    return axios.get('/Product/GetAll').then(({data})=> data);\n}\n\nconst changeProductName = (id, name) => {\n    return axios.post(`Product/changeProductName/${id}?name=${name}`).then(({data})=> data);\n}\n\nconst changeProductCategory = (id, categoryName) => {\n    return axios.post(`Product/moveToCategory/${id}?categoryName=${categoryName}`).then(({data})=> data);\n}\n\nconst changeSellingPrice = (id, price) => {\n    return axios.post(`Product/changeSallingPrice/${id}?price=${price}`).then(({data})=> data);\n}\n\nconst addArrivalDate = (id, date) => {\n    return axios.post(`Product/addArrivalDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst addSellingDate = (id, date) => {\n    return axios.post(`Product/addSallingDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst productsApi = {\n    addProduct,\n    deleteProduct,\n    getProducts,\n    changeProductName,\n    changeProductCategory,\n    changeSellingPrice,\n    addArrivalDate,\n    addSellingDate\n}\n\nexport default productsApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst userRegister = (user) => {\n    return axios.post('/User/register', user).then(({data})=> data);\n}\n\nconst userLogin = (user) => {\n    return axios.post('/User/login', user).then(({data})=>{\n        token.set(data.token);\n        return data;\n    });\n}\n\nconst deleteUser = (id) => {\n    return axios.delete(`/User/delete/${id}`).then(({data})=>data);\n}\n\nconst addUserCash = (cash, id) => {\n    return axios.post(`/User/addcashformonth/${id}`, cash).then(({data})=> data);\n}\n\nconst getAllUserMoney = (id) => {\n    return axios.get(`User/getAllUserMoney/${id}`).then(({data})=> data);\n}\n\nconst getAllUsers = () => {\n    return axios.get('User/getAllUsers').then(({data})=> data);\n}\n\nconst editLogin = (id,login) => {\n    return axios.post(`User/editLogin/${id}?newLogin=${login}`).then(({data})=> data);\n}\n\nconst usersApi = {\n    userRegister,\n    userLogin,\n    deleteUser,\n    addUserCash,\n    getAllUserMoney,\n    getAllUsers,\n    editLogin\n}\n\nexport default usersApi;"],"names":["HC_more","Highcharts","data","options","chart","plotBackgroundColor","plotBorderWidth","plotShadow","type","title","text","tooltip","pointFormat","accessibility","point","valueSuffix","credits","enabled","plotOptions","pie","allowPointSelect","cursor","series","name","colorByPoint","highcharts","toast","isLoggedIn","navigate","useNavigate","useState","setData","setMounted","reducer","previousValue","currentValue","useEffect","fetchUsers","userApi","response","map","el","arr","money","count","sum","length","reduce","login","y","message","position","addCategory","axios","then","removeCategory","id","editCategory","newName","getCategories","productsApi","addProduct","product","deleteProduct","getProducts","changeProductName","changeProductCategory","categoryName","changeSellingPrice","price","addArrivalDate","date","addSellingDate","token","usersApi","userRegister","user","userLogin","deleteUser","addUserCash","cash","getAllUserMoney","getAllUsers","editLogin"],"sourceRoot":""}