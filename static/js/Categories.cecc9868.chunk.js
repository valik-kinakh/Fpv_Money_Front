"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[985],{5237:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n,a,s,i=r(5861),c=r(885),o=r(7757),u=r.n(o),l="Categories_button32__xAPZt",d="Categories_loaderWrapper__iSIka",p="Categories_buttonWrapper__Elf6F",f=r(3504),h=r(6871),g=r(7175),x=r(2791),m=r(8909),v=r(6960),C=(r(5462),"CategoryContainer_container__IMEzH"),y="CategoryContainer_select__eT1-n",j="CategoryContainer_loaderWrapper__LLn+S",_="CategoryContainer_wrapper__diBS5",w="CategoryContainer_innerContainer__6d3uJ",b="CategoryContainer_button__rw+ww",Z="CategoryContainer_editInput__jNnrO",k=r(5501),N=["title","titleId"];function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,t){var r=e.title,i=e.titleId,c=E(e,N);return x.createElement("svg",S({width:14,height:26,viewBox:"0 0 14 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},c),r?x.createElement("title",{id:i},r):null,n||(n=x.createElement("path",{d:"M10.2399 1.48317L12.2416 2.29853C12.5562 2.42667 12.807 2.67454 12.9388 2.98761C13.0707 3.30067 13.0727 3.65329 12.9446 3.96788L6.03763 20.9244L1.66358 19.1427L8.57054 2.18618C8.69868 1.87159 8.94655 1.62078 9.25962 1.48894C9.57268 1.3571 9.9253 1.35503 10.2399 1.48317V1.48317Z",strokeMiterlimit:10})),a||(a=x.createElement("path",{d:"M8.00391 3.80371L12.375 5.5842",strokeMiterlimit:10})),s||(s=x.createElement("path",{d:"M6.03811 20.9253L2.18628 24.1172L1.66406 19.1436",strokeMiterlimit:10})))}var L=x.forwardRef(O),A=(r.p,r(3660)),I=r(5795),M=r(4037),B=r(9891),P=r(6153),F=r(184);v.Am.configure();var U=function(e){var t=e.id,r=e.categoryName,n=e.fetchCategories,a=(0,x.useState)(!1),s=(0,c.Z)(a,2),o=s[0],l=s[1],d=(0,x.useState)(r),p=(0,c.Z)(d,2),f=p[0],h=p[1],m=(0,x.useState)(!1),N=(0,c.Z)(m,2),S=N[0],E=N[1],O=(0,x.useState)([]),U=(0,c.Z)(O,2),Y=U[0],W=U[1],z=(0,x.useState)(0),H=(0,c.Z)(z,2),T=H[0],V=H[1],D=(0,x.useState)(!1),G=(0,c.Z)(D,2),J=G[0],R=G[1],q=function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.editCategory(f,t);case 3:n(),l(!1),v.Am.success("Category successfully updated",{position:"top-center"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.removeCategory(t);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,g.Yc.getProductsByCategoryId(t,T);case 4:r=e.sent,W(r.products),R(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),R(!1),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){S&&Q()}),[S,T]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:C,children:[(0,F.jsx)("div",{className:w,children:o?(0,F.jsx)("input",{type:"text",maxLength:50,value:f||"",className:Z,placeholder:"Category name",onChange:function(e){h(e.target.value)}}):(0,F.jsx)("div",{children:r})}),(0,F.jsxs)("div",{className:w,children:[(0,F.jsx)("button",{className:b,onClick:function(){l(!o)},children:(0,F.jsx)(L,{className:o?"editTrue":"editFalse"})}),o&&(0,F.jsxs)("div",{children:[(0,F.jsx)(k.UC,{text:"Save",disabled:!f,onClick:q}),(0,F.jsx)(k.UC,{text:"Delete category",disabled:!1,onClick:K})]})]}),(0,F.jsx)("div",{className:w,children:(0,F.jsx)(M.Z,{onChange:function(e){V(e.target.value)},value:T,className:y,children:A.Z.map((function(e){return(0,F.jsx)(B.Z,{value:e.id,children:e.name},e.id)}))})}),(0,F.jsx)("div",{className:w,children:(0,F.jsx)(k.UC,{text:S?"Hide products":"Show products",disabled:!1,onClick:function(){E(!S)}})})]}),(0,F.jsx)("div",{className:_,children:Y.length>0&&!J&&S&&Y.map((function(e){return(0,F.jsx)(I.Z,{product:e,fetchCategories:Q},e.id)}))}),S&&!J&&0===Y.length&&(0,F.jsx)("p",{style:{textAlign:"center"},children:"No products of this category found"}),J&&(0,F.jsx)("div",{className:j,children:(0,F.jsx)(P.Z,{type:"Bars",color:"#ff8614",height:100,width:100})})]})},Y=r(9944),W=r(8185);v.Am.configure();var z=function(e){var t=e.isLoggedIn,r=(0,h.s0)(),n=(0,x.useState)([]),a=(0,c.Z)(n,2),s=a[0],o=a[1],C=(0,x.useState)(!1),y=(0,c.Z)(C,2),j=y[0],_=y[1],w=(0,x.useState)(!1),b=(0,c.Z)(w,2),Z=(b[0],b[1]);(0,x.useEffect)((function(){t||r("/login")}),[t]),(0,x.useEffect)((function(){return _(!0),N().then((function(){_(!1)})),function(){Z(!0)}}),[]);var N=function(){var e=(0,i.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.getCategories();case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,F.jsx)(m.Z,{children:j?(0,F.jsx)("div",{className:d,children:(0,F.jsx)(P.Z,{type:"Bars",color:"#ff8614",height:200,width:200})}):(0,F.jsxs)(F.Fragment,{children:[s.length>0&&s.map((function(e){return(0,F.jsx)(U,{id:e.id,categoryName:e.categoryName,fetchCategories:N},e.id)})),(0,F.jsx)(f.OL,{to:Y.Z.addCategory,children:(0,F.jsx)(k.UC,{text:"Add category"})}),(0,F.jsx)("div",{className:p,children:(0,F.jsxs)("a",{className:l,href:"https://fpvworldmoneyapi.azurewebsites.net/Common/generateExcel",children:[(0,F.jsx)(W.VEC,{}),(0,F.jsx)("br",{}),"Generate exel"]})})]})})}}}]);
//# sourceMappingURL=Categories.cecc9868.chunk.js.map