{"version":3,"file":"static/js/Login.ad2f0ed0.chunk.js","mappings":"sMACA,EAAwB,qBAAxB,EAAyG,0BAAzG,EAA2I,qBAA3I,EAAwK,qBAAxK,EAAqM,qBAArM,EAAqO,wBAArO,EAAwQ,wBAAxQ,EAAiT,8B,0ICcjTA,EAAAA,GAAAA,YAEA,IA4GA,EA5Gc,SAAC,GAAkD,IAAjDC,EAAgD,EAAhDA,gBAAiBC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,cACnCC,GAAWC,EAAAA,EAAAA,MAOXC,EAAmBC,EAAAA,KAAaC,MAAM,CACxCC,MAAOF,EAAAA,KAAaG,IAAI,GAAGC,SAAS,YACpCC,SAAUL,EAAAA,KAAaI,SAAS,cAGpC,GAAwCE,EAAAA,EAAAA,WAAS,GAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAU,WACZD,GAAiBD,IAGfG,EAAQ,mCAAG,WAAOC,EAAQC,GAAf,gGAEcC,EAAAA,GAAAA,UAAkBF,GAFhC,OAEHG,EAFG,OAGTpB,EAAgBoB,GAChBrB,EAAAA,GAAAA,QAAc,gBAAiB,CAC3BsB,SAAU,eAEdH,EAAcI,YACdnB,EAAS,KARA,kDAUTJ,EAAAA,GAAAA,MAAY,KAAEwB,QAAS,CACnBF,SAAU,eAXL,0DAAH,wDAgBRG,GAASC,EAAAA,EAAAA,IAAU,CACrBC,cAjCkB,CAClBlB,MAAO,GACPG,SAAU,IAgCVN,iBAAAA,EACAW,SAAAA,IAGJ,OACI,SAACW,EAAA,EAAD,WACI,iBAAKC,UAAWC,EAAhB,WACI,kBAAMb,SAAUQ,EAAOM,aAAvB,WACI,iBAAKF,UAAWC,EAAhB,WACI,eAAID,UAAWC,EAAf,yBACA,kBAAOE,QAAQ,QAAQH,UAAWC,EAAlC,oBAGA,0BACID,UAAWC,EACXG,GAAG,QACHC,KAAK,QACLC,KAAK,OACLC,YAAY,SACRX,EAAOY,cAAc,WAE5BZ,EAAOa,QAAQ7B,OAASgB,EAAOc,OAAO9B,OACnC,cAAGoB,UAAWC,EAAd,SAAwBL,EAAOc,OAAO9B,QACtC,MAEJ,kBAAOuB,QAAQ,WAAWH,UAAWC,EAArC,uBAGA,iBAAKD,UAAWC,EAAhB,WACI,0BACID,UAAWC,EACXG,GAAG,WACHC,KAAK,WACLC,KAAMrB,EAAe,OAAS,WAC9BsB,YAAY,YACRX,EAAOY,cAAc,cAE5BvB,GACG,gBACI0B,IAAKC,EAAAA,EACLC,MAAO,CAACC,MAAO,OAAQC,OAAQ,WAC/BC,QAAS7B,KAGb,gBACIwB,IAAKM,EAAAA,EACLJ,MAAO,CAACC,MAAO,OAAQC,OAAQ,WAC/BC,QAAS7B,OAIpBS,EAAOa,QAAQ1B,UAAYa,EAAOc,OAAO3B,UACtC,cAAGiB,UAAWC,EAAd,SAAwBL,EAAOc,OAAO3B,WACtC,SAER,SAAC,KAAD,CACImC,KAAK,SACLC,WAAYvB,EAAOwB,OAASxB,EAAOyB,SACnCrB,UAAU,oBAId3B,IAAc,SAAC,KAAD,CAAqB6C,KAAK,SAASC,UAAU,EAAOH,QAAS1C,KAE/E,SAAC,KAAD,CAAMgD,GAAIC,EAAAA,EAAAA,SAAiBvB,UAAWC,EAAtC","sources":["webpack://client/./src/pages/Login/Login.module.css?b420","pages/Login/Login.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"error\":\"Login_error__SdyqE\",\"forgotPassword\":\"Login_forgotPassword__EsYpZ\",\"LoginInner\":\"Login_LoginInner__eQLxi\",\"title\":\"Login_title__SJ0Uv\",\"label\":\"Login_label__MvF1C\",\"input\":\"Login_input__6Emyd\",\"password\":\"Login_password__9rDlC\",\"register\":\"Login_register__SrZHL\",\"loginContainer\":\"Login_loginContainer__xABI1\"};","import s from './Login.module.css';\nimport {Link, useNavigate} from 'react-router-dom';\nimport {userApi} from \"../../services\";\nimport {useFormik} from \"formik\";\nimport * as Yup from 'yup';\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from \"../../components/Container\";\n\nimport closeEye from \"../../img/register/closeEye.svg\";\nimport openEye from \"../../img/register/openEye.svg\";\nimport {useState} from \"react\";\nimport {SubmitButton, UploadContentButton} from \"../../Button\";\nimport routes from \"../../config/routes\";\n\ntoast.configure();\n\nconst Login = ({getTokenHandler, isLoggedIn, logoutHandler}) => {\n    const navigate = useNavigate();\n\n    const initialValues = {\n        login: '',\n        password: ''\n    }\n\n    const validationSchema = Yup.object().shape({\n        login: Yup.string().min(2).required(\"Required\"),\n        password: Yup.string().required(\"Required\"),\n    })\n\n    const [showPassword, setShowPassword] = useState(false);\n\n    const showPas = () => {\n        setShowPassword(!showPassword);\n    };\n\n    const onSubmit = async (values, onSubmitProps) => {\n        try {\n            const response = await userApi.userLogin(values)\n            getTokenHandler(response)\n            toast.success('Login success', {\n                position: 'top-center'\n            });\n            onSubmitProps.resetForm();\n            navigate('/')\n        } catch (e) {\n            toast.error(e.message, {\n                position: 'top-center'\n            })\n        }\n    }\n\n    const formik = useFormik({\n        initialValues,\n        validationSchema,\n        onSubmit\n    })\n\n    return (\n        <Container>\n            <div className={s.loginContainer}>\n                <form onSubmit={formik.handleSubmit}>\n                    <div className={s.LoginInner}>\n                        <h1 className={s.title}>Login form</h1>\n                        <label htmlFor=\"login\" className={s.label}>\n                            Login\n                        </label>\n                        <input\n                            className={s.input}\n                            id=\"login\"\n                            name=\"login\"\n                            type=\"text\"\n                            placeholder='Login'\n                            {...formik.getFieldProps(\"login\")}\n                        />\n                        {formik.touched.login && formik.errors.login ? (\n                            <p className={s.error}>{formik.errors.login}</p>\n                        ) : null}\n\n                        <label htmlFor=\"password\" className={s.label}>\n                            Password\n                        </label>\n                        <div className={s.password}>\n                            <input\n                                className={s.input}\n                                id=\"password\"\n                                name=\"password\"\n                                type={showPassword ? \"text\" : \"password\"}\n                                placeholder='Password'\n                                {...formik.getFieldProps(\"password\")}\n                            />\n                            {showPassword ? (\n                                <img\n                                    src={openEye}\n                                    style={{width: \"16px\", cursor: \"pointer\"}}\n                                    onClick={showPas}\n                                />\n                            ) : (\n                                <img\n                                    src={closeEye}\n                                    style={{width: \"16px\", cursor: \"pointer\"}}\n                                    onClick={showPas}\n                                />\n                            )}\n                        </div>\n                        {formik.touched.password && formik.errors.password ? (\n                            <p className={s.error}>{formik.errors.password}</p>\n                        ) : null}\n                    </div>\n                    <SubmitButton\n                        text='Log in'\n                        disabled={!(formik.dirty && formik.isValid)}\n                        className=\"submitButton\"\n                    />\n                </form>\n                {\n                    isLoggedIn && <UploadContentButton text='Logout' disabled={false} onClick={logoutHandler}/>\n                }\n                <Link to={routes.register} className={s.register}>\n                    Go to register\n                </Link>\n            </div>\n        </Container>)\n}\n\nexport default Login;"],"names":["toast","getTokenHandler","isLoggedIn","logoutHandler","navigate","useNavigate","validationSchema","Yup","shape","login","min","required","password","useState","showPassword","setShowPassword","showPas","onSubmit","values","onSubmitProps","userApi","response","position","resetForm","message","formik","useFormik","initialValues","Container","className","s","handleSubmit","htmlFor","id","name","type","placeholder","getFieldProps","touched","errors","src","openEye","style","width","cursor","onClick","closeEye","text","disabled","dirty","isValid","to","routes"],"sourceRoot":""}