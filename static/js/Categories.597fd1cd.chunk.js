"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[985],{5237:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n,a,s,i=r(5861),c=r(885),o=r(7757),l=r.n(o),u="Categories_button32__xAPZt",d="Categories_loaderWrapper__iSIka",p="Categories_buttonWrapper__Elf6F",f=r(3504),h=r(6871),g=r(7175),x=r(2791),m=r(8909),v=r(6960),C=(r(5462),"CategoryContainer_container__IMEzH"),y="CategoryContainer_wrapper__diBS5",j="CategoryContainer_innerContainer__6d3uJ",w="CategoryContainer_button__rw+ww",b="CategoryContainer_editInput__jNnrO",_=r(5501),k=["title","titleId"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function Z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,t){var r=e.title,i=e.titleId,c=Z(e,k);return x.createElement("svg",N({width:14,height:26,viewBox:"0 0 14 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},c),r?x.createElement("title",{id:i},r):null,n||(n=x.createElement("path",{d:"M10.2399 1.48317L12.2416 2.29853C12.5562 2.42667 12.807 2.67454 12.9388 2.98761C13.0707 3.30067 13.0727 3.65329 12.9446 3.96788L6.03763 20.9244L1.66358 19.1427L8.57054 2.18618C8.69868 1.87159 8.94655 1.62078 9.25962 1.48894C9.57268 1.3571 9.9253 1.35503 10.2399 1.48317V1.48317Z",strokeMiterlimit:10})),a||(a=x.createElement("path",{d:"M8.00391 3.80371L12.375 5.5842",strokeMiterlimit:10})),s||(s=x.createElement("path",{d:"M6.03811 20.9253L2.18628 24.1172L1.66406 19.1436",strokeMiterlimit:10})))}var E=x.forwardRef(O),S=(r.p,r(5795)),L=r(184);v.Am.configure();var A=function(e){var t=e.id,r=e.categoryName,n=e.products,a=e.fetchCategories,s=(0,x.useState)(!1),o=(0,c.Z)(s,2),u=o[0],d=o[1],p=(0,x.useState)(r),f=(0,c.Z)(p,2),h=f[0],m=f[1],k=(0,x.useState)(!1),N=(0,c.Z)(k,2),Z=N[0],O=N[1],A=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.editCategory(h,t);case 3:e.sent,a(),v.Am.success("Category successfully updated",{position:"top-center"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.removeCategory(t);case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:C,children:[(0,L.jsx)("div",{className:j,children:u?(0,L.jsx)("input",{type:"text",maxLength:50,value:h||"",className:b,placeholder:"Category name",onChange:function(e){m(e.target.value)}}):(0,L.jsx)("div",{children:r})}),(0,L.jsxs)("div",{className:j,children:[(0,L.jsx)("button",{className:w,onClick:function(){d(!u)},children:(0,L.jsx)(E,{className:u?"editTrue":"editFalse"})}),u&&(0,L.jsxs)("div",{children:[(0,L.jsx)(_.UC,{text:"Save",disabled:!h,onClick:A}),(0,L.jsx)(_.UC,{text:"Delete category",disabled:!1,onClick:I})]})]}),(0,L.jsx)("div",{className:j,children:(0,L.jsx)(_.UC,{text:Z?"Hide products":"Show products",disabled:!1,onClick:function(){O(!Z)}})})]}),(0,L.jsx)("div",{className:y,children:n.length>0&&Z&&n.map((function(e){return(0,L.jsx)(S.Z,{product:e,fetchCategories:a},e.id)}))}),Z&&0===n.length&&(0,L.jsx)("p",{style:{textAlign:"center"},children:"No products of this category found"})]})},I=r(9944),M=r(8185),F=r(6153);v.Am.configure();var P=function(e){var t=e.isLoggedIn,r=(0,h.s0)(),n=(0,x.useState)([]),a=(0,c.Z)(n,2),s=a[0],o=a[1],C=(0,x.useState)(!1),y=(0,c.Z)(C,2),j=y[0],w=y[1],b=(0,x.useState)(!1),k=(0,c.Z)(b,2),N=(k[0],k[1]);(0,x.useEffect)((function(){t||r("/login")}),[t]),(0,x.useEffect)((function(){return w(!0),Z().then((function(){w(!1)})),function(){N(!0)}}),[]);var Z=function(){var e=(0,i.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Yc.getCategories();case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)(m.Z,{children:j?(0,L.jsx)("div",{className:d,children:(0,L.jsx)(F.Z,{type:"Bars",color:"#ff8614",height:200,width:200})}):(0,L.jsxs)(L.Fragment,{children:[s.length>0&&s.map((function(e){return(0,L.jsx)(A,{id:e.id,categoryName:e.categoryName,products:e.products,fetchCategories:Z},e.id)})),(0,L.jsx)(f.OL,{to:I.Z.addCategory,children:(0,L.jsx)(_.UC,{text:"Add category"})}),(0,L.jsx)("div",{className:p,children:(0,L.jsxs)("a",{className:u,href:"https://fpvworldmoneyapi.azurewebsites.net/Common/generateExcel",children:[(0,L.jsx)(M.VEC,{}),(0,L.jsx)("br",{}),"Generate exel"]})})]})})}}}]);
//# sourceMappingURL=Categories.597fd1cd.chunk.js.map