{"version":3,"file":"static/js/UserProfile.a6d32520.chunk.js","mappings":"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","sources":["webpack://client/./src/Button/Button.module.css?2901","Button/SubmitButton.js","Button/UploadContent.js","webpack://client/./src/pages/UserProfile/UserProfile.module.css?93b3","pages/UserProfile/UserProfile.js","services/categories.js","services/product.js","services/user.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btnWrapper\":\"Button_btnWrapper__qLkFf\",\"btn\":\"Button_btn__EDhOk\"};","import s from \"./Button.module.css\";\n\nconst SubmitButton = ({ text }) => {\n  return (\n    <div className={s.btnWrapper}>\n      <button type=\"submit\" className={s.btn}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default SubmitButton;\n","import s from \"./Button.module.css\";\n\nconst UploadContentButton = ({ text, onClick, disabled }) => {\n\n  return (\n    <div className={s.btnWrapper}>\n      <button type='button' className={s.btn} onClick={onClick} disabled={disabled}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default UploadContentButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"UserProfile_container__SeZs0\",\"header\":\"UserProfile_header__hjSjI\",\"divInput\":\"UserProfile_divInput__fRW6q\",\"save\":\"UserProfile_save__-Zgby\",\"editInput\":\"UserProfile_editInput__nnmvX\",\"buttons\":\"UserProfile_buttons__AfXmw\",\"buttons2\":\"UserProfile_buttons2__v2gDO\"};","import s from './UserProfile.module.css';\nimport Container from \"../../components/Container\";\nimport {useEffect, useState} from \"react\";\nimport {NavLink, useNavigate} from \"react-router-dom\";\nimport {userApi} from \"../../services\";\nimport routes from \"../../config/routes\";\n\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {UploadContentButton} from \"../../Button\";\n\ntoast.configure();\n\nconst UserProfile = ({isLoggedIn, id, login,logoutHandler}) => {\n    const navigate = useNavigate();\n    const [enableEdit, setEnableEdit] = useState(false);\n    const [name, setName] = useState(login ? login:'');\n    const [amountOfMoney, setAmountOfMoney] = useState(0);\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(()=>{\n        if (!isLoggedIn){\n            navigate('/login')\n        }\n    },[isLoggedIn])\n\n    useEffect(()=>{\n       if (login && id){\n           fetchUserMoney()\n       }\n       return () => {\n           setMounted(true);\n       }\n    },[login, id])\n\n    const fetchUserMoney = async () => {\n        try {\n            const response = await userApi.getAllUserMoney(id);\n            setAmountOfMoney(response)\n        }catch (e) {\n            toast.error(e.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    const editMode = () => {\n        setEnableEdit(!enableEdit);\n    }\n\n    const onChange = (e) => {\n        setName(e.target.value);\n    }\n\n    const updateUser = async () => {\n        try {\n            await userApi.editLogin(id,name);\n            toast.success('User successfully updated',{\n                position:'top-center'\n            });\n            setEnableEdit(!enableEdit);\n        }catch (e) {\n            toast.error(e.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    const handleDelete = async () => {\n        try {\n            await userApi.deleteUser(id);\n            toast.success('Account successfully deleted',{\n                position:'top-center'\n            })\n            logoutHandler();\n        }catch (e) {\n            toast.error(e.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    return(<Container>\n        <h1 className={s.header}>User Profile</h1>\n        { id && login && <div className={s.container}>\n            {\n                enableEdit ? <div className={s.divInput}>\n                    <input type='text' className={s.editInput} value={name} onChange={onChange} maxLength={20}/>\n                    <div className={s.save}>\n                        <UploadContentButton text='Save' disabled={!name} onClick={updateUser}/>\n                    </div>\n                    </div>:\n                    <h2 className={s.header}>{name}</h2>\n            }\n           <p className={s.header}>Invested money: {amountOfMoney.contributionCount}</p>\n            {\n                enableEdit?<div className={s.buttons2}>\n                    <div>\n                        <UploadContentButton text={enableEdit ? 'Cancel':'Edit profile'} disabled={false} onClick={editMode}/>\n                    </div>\n                    <div>\n                        <UploadContentButton text='Delete account' disabled={false} onClick={handleDelete}/>\n                    </div>\n                </div> :<div className={s.buttons}>\n                    <div>\n                        <UploadContentButton text={enableEdit ? 'Cancel':'Edit profile'} disabled={false} onClick={editMode}/>\n                    </div>\n                    <div>\n                        <UploadContentButton text='Logout' disabled={false} onClick={logoutHandler}/>\n                    </div>\n                    <div>\n                        <NavLink to={routes.moneyReport}><UploadContentButton text='Add report'/></NavLink>\n                    </div>\n                </div>\n            }\n\n        </div>}\n    </Container>)\n}\n\nexport default UserProfile;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addCategory = (name) => {\n    return axios.post(`/Catigories/add/${name}`).then(({data}) => data);\n}\n\nconst removeCategory = (id) => {\n    return axios.delete(`/Catigories/delete/${id}`)\n}\n\nconst editCategory = (newName, id) => {\n    return axios.post(`Catigories/changeName/${id}?newName=${newName}`)\n        .then(({data})=>data);\n}\n\nconst getCategories = () => {\n    return axios.get('/Catigories/GetAll').then(({data})=>data);\n}\n\nconst categoriesApi = {\n    addCategory,\n    removeCategory,\n    editCategory,\n    getCategories\n}\n\nexport default categoriesApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addProduct = (product) => {\n    return axios.post('/Product/add', product).then(({data})=> data);\n}\n\nconst deleteProduct = (id) => {\n    return axios.delete(`/Product/delete/${id}`);\n}\n\nconst getProducts = () => {\n    return axios.get('/Product/GetAll').then(({data})=> data);\n}\n\nconst changeProductName = (id, name) => {\n    return axios.post(`Product/changeProductName/${id}?name=${name}`).then(({data})=> data);\n}\n\nconst changeProductCategory = (id, categoryName) => {\n    return axios.post(`Product/moveToCategory/${id}?categoryName=${categoryName}`).then(({data})=> data);\n}\n\nconst changeSellingPrice = (id, price) => {\n    return axios.post(`Product/addSallingPrice/${id}?price=${price}`).then(({data})=> data);\n}\n\nconst addArrivalDate = (id, date) => {\n    return axios.post(`Product/addArrivalDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst addSellingDate = (id, date) => {\n    return axios.post(`Product/addSallingDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst productsApi = {\n    addProduct,\n    deleteProduct,\n    getProducts,\n    changeProductName,\n    changeProductCategory,\n    changeSellingPrice,\n    addArrivalDate,\n    addSellingDate\n}\n\nexport default productsApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst userRegister = (user) => {\n    return axios.post('/User/register', user).then(({data})=> data);\n}\n\nconst userLogin = (user) => {\n    return axios.post('/User/login', user).then(({data})=>{\n        token.set(data.token);\n        return data;\n    });\n}\n\nconst deleteUser = (id) => {\n    return axios.delete(`/User/delete/${id}`).then(({data})=>data);\n}\n\nconst addUserCash = (cash, id) => {\n    return axios.post(`/User/addcashformonth/${id}`, cash).then(({data})=> data);\n}\n\nconst getAllUserMoney = (id) => {\n    return axios.get(`User/getAllUserMoney/${id}`).then(({data})=> data);\n}\n\nconst getAllUsers = () => {\n    return axios.get('User/getAllUsers').then(({data})=> data);\n}\n\nconst editLogin = (id,login) => {\n    return axios.post(`User/editLogin/${id}?newLogin=${login}`).then(({data})=> data);\n}\n\nconst usersApi = {\n    userRegister,\n    userLogin,\n    deleteUser,\n    addUserCash,\n    getAllUserMoney,\n    getAllUsers,\n    editLogin\n}\n\nexport default usersApi;"],"names":["text","className","s","type","onClick","disabled","toast","isLoggedIn","id","login","logoutHandler","navigate","useNavigate","useState","enableEdit","setEnableEdit","name","setName","amountOfMoney","setAmountOfMoney","setMounted","useEffect","fetchUserMoney","userApi","response","message","position","editMode","updateUser","handleDelete","Container","value","onChange","e","target","maxLength","contributionCount","to","routes","addCategory","axios","then","data","removeCategory","editCategory","newName","getCategories","productsApi","addProduct","product","deleteProduct","getProducts","changeProductName","changeProductCategory","categoryName","changeSellingPrice","price","addArrivalDate","date","addSellingDate","token","usersApi","userRegister","user","userLogin","deleteUser","addUserCash","cash","getAllUserMoney","getAllUsers","editLogin"],"sourceRoot":""}