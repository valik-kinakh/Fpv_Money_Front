"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[460],{2853:function(t,n,e){e.r(n),e.d(n,{default:function(){return j}});var r=e(2982),o=e(5861),a=e(885),c=e(7757),u=e.n(c),i=e(6871),s=e(2791),d=e(7179),l=e.n(d),f=e(2003),h=e.n(f),p=e(1192),g=e.n(p),m=e(184);g()(l());var v=function(t){var n=t.data,e={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Money invested in FPV-World"},tooltip:{pointFormat:"{series.name}: <b>{point.y:.1f} UAN</b>"},accessibility:{point:{valueSuffix:"%"}},credits:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer"}},series:[{name:"Money",colorByPoint:!0,data:(0,r.Z)(n)}]};return(0,m.jsx)("div",{children:(0,m.jsx)(h(),{highcharts:l(),options:e})})},y=e(9718),x=e.n(y),P=e(2690),C=e.n(P);g()(x()),C()(x());var U=function(t){var n=t.data,e={boost:{useGPUTranslations:!0,usePreallocated:!0},chart:{type:"spline"},title:{text:"Monthly money investing"},credits:{enabled:!1},xAxis:{labels:{enabled:!1},crosshair:!0,tickWidth:0,min:0,tickInterval:1,maxPadding:0},yAxis:{title:{text:"Money"},labels:{formatter:function(){return this.value}}},tooltip:{crosshairs:!0,headerFormat:"<b>{series.name}</b><br/>",pointFormatter:function(){return"".concat(this.date,"<br/>").concat(this.y,"UAN")}},plotOptions:{spline:{marker:{radius:4,lineColor:"#666666",lineWidth:1}}},series:(0,r.Z)(n)};return(0,m.jsx)(h(),{highcharts:x(),options:e})},A=e(6153),b="Home_loaderWrapper__mT37B",S="Home_moneyWrapper__FKkM8",Z=e(6960),w=(e(5462),e(7175)),M=e(2426),k=e.n(M);Z.Am.configure();var j=function(t){var n=t.isLoggedIn,e=(0,i.s0)(),c=(0,s.useState)([]),d=(0,a.Z)(c,2),l=d[0],f=d[1],h=(0,s.useState)([]),p=(0,a.Z)(h,2),g=p[0],y=p[1],x=(0,s.useState)("usd"),P=(0,a.Z)(x,2),C=P[0],M=(P[1],(0,s.useState)("uah")),j=(0,a.Z)(M,2),N=j[0],B=(j[1],(0,s.useState)(0)),F=(0,a.Z)(B,2),D=F[0],W=F[1],_=(0,s.useState)(0),E=(0,a.Z)(_,2),G=E[0],L=E[1],Y=(0,s.useState)(!1),T=(0,a.Z)(Y,2),z=T[0],H=T[1],I=(0,s.useState)(!1),O=(0,a.Z)(I,2),K=(O[0],O[1]),R=function(t,n){return t+n};(0,s.useEffect)((function(){n||e("/login")}),[n]),(0,s.useEffect)((function(){return q(),function(){K(!0)}}),[]),(0,s.useEffect)((function(){G>0&&V()}),[G]);var V=function(){var t=(0,o.Z)(u().mark((function t(){var n,e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.m5.convertMoney(C);case 3:n=t.sent,e=n.usd[N],W(Math.round(G*e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Z.Am.error("Convert service does not respond",{position:"top-center"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=(0,o.Z)(u().mark((function t(){var n,e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,H(!0),t.next=4,w.BG.getAllUsers();case 4:return n=t.sent,t.next=7,w.m5.getCashFlow();case 7:e=t.sent,L(Math.round(e)),y((0,r.Z)(n).map((function(t){return{name:t.login,data:(0,r.Z)(t.money).map((function(t){return{y:t.count,date:k()(t.time).format("DD-MM-YYYY")}}))}}))),f((0,r.Z)(n).map((function(t){var n=t.money.map((function(t){return t.count})),e=n.length>0?n.reduce(R):0;return{name:t.login,y:e}}))),H(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),H(!1),Z.Am.error(t.t0.response.data.message,{position:"top-center"});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[!z&&(0,m.jsxs)("div",{className:S,children:[(0,m.jsxs)("h2",{children:["Money USD:",G]}),(0,m.jsxs)("h2",{children:["Money UAN: ",D]})]}),l.length>0&&!z&&(0,m.jsx)(v,{data:l}),l.length>0&&!z&&(0,m.jsx)(U,{data:g}),z&&(0,m.jsx)("div",{className:b,children:(0,m.jsx)(A.Z,{type:"Bars",color:"#ff8614",height:200,width:200})})]})}},7175:function(t,n,e){e.d(n,{Yc:function(){return a},m5:function(){return l},fi:function(){return u},BG:function(){return d}});var r=e(4569),o=e.n(r),a={addCategory:function(t){return o().post("/Catigories/add/".concat(t)).then((function(t){return t.data}))},removeCategory:function(t){return o().delete("/Catigories/delete/".concat(t))},editCategory:function(t,n){return o().post("Catigories/changeName/".concat(n,"?newName=").concat(t)).then((function(t){return t.data}))},getCategories:function(){return o().get("/Catigories/GetAll").then((function(t){return t.data}))}},c={addProduct:function(t){return o().post("/Product/add",t).then((function(t){return t.data}))},deleteProduct:function(t){return o().delete("/Product/delete/".concat(t))},getProducts:function(t){return o().get("/Product/GetAll?state=".concat(t)).then((function(t){return t.data}))},changeProductName:function(t,n){return o().post("Product/changeProductName/".concat(t,"?name=").concat(n)).then((function(t){return t.data}))},changeProductCategory:function(t,n){return o().post("Product/moveToCategory/".concat(t,"?categoryName=").concat(n)).then((function(t){return t.data}))},changeSellingPrice:function(t,n){return o().post("Product/addSallingPrice/".concat(t,"?price=").concat(n)).then((function(t){return t.data}))},addArrivalDate:function(t,n){return o().post("Product/addArrivalDate/".concat(t,"?time=").concat(n)).then((function(t){return t.data}))},addSellingDate:function(t,n){return o().post("Product/addSallingDate/".concat(t,"?time=").concat(n)).then((function(t){return t.data}))}},u=c,i=function(t){o().defaults.headers.common.Authorization="Bearer ".concat(t)},s={userRegister:function(t){return o().post("/User/register",t).then((function(t){return t.data}))},userLogin:function(t){return o().post("/User/login",t).then((function(t){var n=t.data;return i(n.token),n}))},deleteUser:function(t){return o().delete("/User/delete/".concat(t)).then((function(t){return t.data}))},addUserCash:function(t,n){return o().post("/User/addcashformonth/".concat(n),t).then((function(t){return t.data}))},getAllUserMoney:function(t){return o().get("User/getAllUserMoney/".concat(t)).then((function(t){return t.data}))},getAllUsers:function(){return o().get("User/getAllUsers").then((function(t){return t.data}))},editLogin:function(t,n){return o().post("User/editLogin/".concat(t,"?newLogin=").concat(n)).then((function(t){return t.data}))}},d=s,l={generateExel:function(){return o().get("/Common/generateExcel").then((function(t){return t.data}))},getCashFlow:function(){return o().get("/Common/chashFlow").then((function(t){return t.data}))},convertMoney:function(t){return o().get("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/".concat(t,".json")).then((function(t){return t.data}))}}}}]);
//# sourceMappingURL=HomePage.5d911003.chunk.js.map