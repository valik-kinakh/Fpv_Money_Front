"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[918],{4620:function(t,e,n){n.d(e,{Mm:function(){return a},UC:function(){return i}});var r="Button_btnWrapper__qLkFf",c="Button_btn__EDhOk",o=n(184),a=function(t){var e=t.text;return(0,o.jsx)("div",{className:r,children:(0,o.jsx)("button",{type:"submit",className:c,children:e})})},i=function(t){var e=t.text,n=t.onClick,a=t.disabled;return(0,o.jsx)("div",{className:r,children:(0,o.jsx)("button",{type:"button",className:c,onClick:n,disabled:a,children:e})})}},869:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var r=n(5861),c=n(885),o=n(7757),a=n.n(o),i="UserProfile_container__SeZs0",u="UserProfile_header__hjSjI",s="UserProfile_divInput__fRW6q",d="UserProfile_save__-Zgby",l="UserProfile_editInput__nnmvX",f="UserProfile_buttons__AfXmw",h="UserProfile_buttons2__v2gDO",p=n(8909),g=n(2791),v=n(3504),m=n(6871),x=n(7175),C=n(9944),U=n(6960),j=(n(5462),n(4620)),_=n(184);U.Am.configure();var P=function(t){var e=t.isLoggedIn,n=t.id,o=t.login,P=t.logoutHandler,b=(0,m.s0)(),k=(0,g.useState)(!1),y=(0,c.Z)(k,2),A=y[0],N=y[1],w=(0,g.useState)(o||""),S=(0,c.Z)(w,2),Z=S[0],L=S[1],B=(0,g.useState)(0),D=(0,c.Z)(B,2),G=D[0],E=D[1],I=(0,g.useState)(!1),M=(0,c.Z)(I,2),O=(M[0],M[1]);(0,g.useEffect)((function(){e||b("/login")}),[e]),(0,g.useEffect)((function(){return o&&n&&R(),function(){O(!0)}}),[o,n]);var R=function(){var t=(0,r.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.BG.getAllUserMoney(n);case 3:e=t.sent,E(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),U.Am.error(t.t0.message,{position:"top-center"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),q=function(){N(!A)},W=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.BG.editLogin(n,Z);case 3:U.Am.success("User successfully updated",{position:"top-center"}),N(!A),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),U.Am.error(t.t0.message,{position:"top-center"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.BG.deleteUser(n);case 3:U.Am.success("Account successfully deleted",{position:"top-center"}),P(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),U.Am.error(t.t0.message,{position:"top-center"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,_.jsxs)(p.Z,{children:[(0,_.jsx)("h1",{className:u,children:"User Profile"}),n&&o&&(0,_.jsxs)("div",{className:i,children:[A?(0,_.jsxs)("div",{className:s,children:[(0,_.jsx)("input",{type:"text",className:l,value:Z,onChange:function(t){L(t.target.value)},maxLength:20}),(0,_.jsx)("div",{className:d,children:(0,_.jsx)(j.UC,{text:"Save",disabled:!Z,onClick:W})})]}):(0,_.jsx)("h2",{className:u,children:Z}),(0,_.jsxs)("p",{className:u,children:["Invested money: ",G.contributionCount]}),A?(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:A?"Cancel":"Edit profile",disabled:!1,onClick:q})}),(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:"Delete account",disabled:!1,onClick:X})})]}):(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:A?"Cancel":"Edit profile",disabled:!1,onClick:q})}),(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:"Logout",disabled:!1,onClick:P})}),(0,_.jsx)("div",{children:(0,_.jsx)(v.OL,{to:C.Z.moneyReport,children:(0,_.jsx)(j.UC,{text:"Add report"})})})]})]})]})}},7175:function(t,e,n){n.d(e,{Yc:function(){return o},fi:function(){return i},BG:function(){return d}});var r=n(4569),c=n.n(r),o={addCategory:function(t){return c().post("/Catigories/add/".concat(t)).then((function(t){return t.data}))},removeCategory:function(t){return c().delete("/Catigories/delete/".concat(t))},editCategory:function(t,e){return c().post("Catigories/changeName/".concat(e,"?newName=").concat(t)).then((function(t){return t.data}))},getCategories:function(){return c().get("/Catigories/GetAll").then((function(t){return t.data}))}},a={addProduct:function(t){return c().post("/Product/add",t).then((function(t){return t.data}))},deleteProduct:function(t){return c().delete("/Product/delete/".concat(t))},getProducts:function(){return c().get("/Product/GetAll").then((function(t){return t.data}))},changeProductName:function(t,e){return c().post("Product/changeProductName/".concat(t,"?name=").concat(e)).then((function(t){return t.data}))},changeProductCategory:function(t,e){return c().post("Product/moveToCategory/".concat(t,"?categoryName=").concat(e)).then((function(t){return t.data}))},changeSellingPrice:function(t,e){return c().post("Product/changeSallingPrice/".concat(t,"?price=").concat(e)).then((function(t){return t.data}))},addArrivalDate:function(t,e){return c().post("Product/addArrivalDate/".concat(t,"?time=").concat(e)).then((function(t){return t.data}))},addSellingDate:function(t,e){return c().post("Product/addSallingDate/".concat(t,"?time=").concat(e)).then((function(t){return t.data}))}},i=a,u=function(t){c().defaults.headers.common.Authorization="Bearer ".concat(t)},s={userRegister:function(t){return c().post("/User/register",t).then((function(t){return t.data}))},userLogin:function(t){return c().post("/User/login",t).then((function(t){var e=t.data;return u(e.token),e}))},deleteUser:function(t){return c().delete("/User/delete/".concat(t)).then((function(t){return t.data}))},addUserCash:function(t,e){return c().post("/User/addcashformonth/".concat(e),t).then((function(t){return t.data}))},getAllUserMoney:function(t){return c().get("User/getAllUserMoney/".concat(t)).then((function(t){return t.data}))},getAllUsers:function(){return c().get("User/getAllUsers").then((function(t){return t.data}))},editLogin:function(t,e){return c().post("User/editLogin/".concat(t,"?newLogin=").concat(e)).then((function(t){return t.data}))}},d=s}}]);
//# sourceMappingURL=UserProfile.52052260.chunk.js.map