{"version":3,"file":"static/js/HomePage.49004a7d.chunk.js","mappings":"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","sources":["components/PieChart/PieChart.js","components/LineChart/LineChart.js","webpack://client/./src/pages/Home/Home.module.css?1370","pages/Home/Home.js","services/categories.js","services/product.js","services/user.js"],"sourcesContent":["import React from \"react\";\nimport Highcharts from \"highcharts/highstock\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport HC_more from 'highcharts/highcharts-more';\n\nHC_more(Highcharts);\n\nconst PieChart = ({data}) => {\n    const options = {\n        chart: {\n            plotBackgroundColor: null,\n            plotBorderWidth: null,\n            plotShadow: false,\n            type: 'pie'\n        },\n        title: {\n            text: 'Money invested in FPV-World'\n        },\n        tooltip: {\n            pointFormat: '{series.name}: <b>{point.y:.1f} UAN</b>'\n        },\n        accessibility: {\n            point: {\n                valueSuffix: '%'\n            }\n        },\n        credits:{\n            enabled: false\n        },\n        plotOptions: {\n            pie: {\n                allowPointSelect: true,\n                cursor: 'pointer',\n            }\n        },\n        series: [{\n            name: 'Money',\n            colorByPoint: true,\n            data: [...data]\n        }]\n    }\n\n    return (\n       <div>\n          <HighchartsReact highcharts={Highcharts} options={options}/>\n       </div>\n    )\n};\n\nexport default PieChart;\n\n\n","import Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport HighchartsMore from \"highcharts/highcharts-more\";\nimport Boost from \"highcharts/modules/boost\";\n\nHighchartsMore(Highcharts);\nBoost(Highcharts);\n\nconst LineChart = ({data}) => {\n    const options = {\n        boost: {\n            useGPUTranslations: true,\n            usePreallocated: true,\n        },\n        chart: {\n            type: 'spline'\n        },\n        title: {\n            text: 'Monthly money investing'\n        },\n        credits:{\n          enabled: false\n        },\n        xAxis: {\n            labels: {\n                enabled: false,\n            },\n            crosshair: true,\n            tickWidth: 0,\n            min: 0,\n            tickInterval: 1,\n            maxPadding: 0,\n        },\n        yAxis: {\n            title: {\n                text: 'Money'\n            },\n            labels: {\n                formatter: function () {\n                    return this.value;\n                }\n            }\n        },\n        tooltip: {\n            crosshairs: true,\n            headerFormat: `<b>{series.name}</b><br/>`,\n            pointFormatter: function () {\n                return `${this.date}<br/>${this.y}UAN`;\n            }\n            },\n        plotOptions: {\n            spline: {\n                marker: {\n                    radius: 4,\n                    lineColor: '#666666',\n                    lineWidth: 1\n                }\n            }\n        },\n        series: [...data]\n    }\n  return(\n      <HighchartsReact\n          highcharts={Highcharts}\n          options={options}\n      />\n\n  )\n}\n\nexport default LineChart;","// extracted by mini-css-extract-plugin\nexport default {\"loaderWrapper\":\"Home_loaderWrapper__mT37B\"};","import {useNavigate} from 'react-router-dom';\nimport React, {useEffect, useState} from \"react\";\nimport PieChart from \"../../components/PieChart\";\nimport LineChart from \"../../components/LineChart\";\nimport Loader from \"react-loader-spinner\";\nimport s from './Home.module.css'\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {userApi} from \"../../services\";\nimport moment from \"moment/moment\";\n\ntoast.configure();\n\nconst Home = ({isLoggedIn}) => {\n    const navigate = useNavigate();\n\n    const [data, setData] = useState([]);\n    const [lineChartData, setLineChartData] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [mounted, setMounted] = useState(false);\n\n    const reducer = (previousValue, currentValue) => previousValue + currentValue;\n\n    useEffect(()=>{\n        if (!isLoggedIn){\n            navigate('/login')\n        }\n    },[isLoggedIn]);\n\n    useEffect(()=>{\n        fetchUsers();\n        return () => {\n            setMounted(true);\n        }\n    },[])\n\n    const fetchUsers = async () => {\n        try {\n            setLoading(true);\n            const response = await userApi.getAllUsers();\n            setLineChartData([...response].map(el=>{\n                return{\n                    name:el.login,\n                    data:[...el.money].map(pr=>{\n                        return {\n                            y:pr.count,\n                            date: moment(pr.time).format('DD-MM-YYYY')\n                        }\n                    })\n                }\n            }))\n            setData([...response].map(el=>{\n                const arr = el.money.map(el=>el.count);\n                const sum = arr.length > 0 ? arr.reduce(reducer): 0;\n                return {\n                   name:el.login,\n                    y: sum\n                }\n            }))\n            setLoading(false);\n        }catch (e) {\n            setLoading(false);\n            toast.error(e.response.data.message, {\n                position:'top-center'\n            })\n        }\n    }\n\n    return(\n        <div>\n            {\n                data.length > 0 && !loading && <PieChart data={data}/>\n            }\n            {\n                data.length > 0 && !loading && <LineChart data={lineChartData}/>\n            }\n            {\n                loading && <div className={s.loaderWrapper}>\n                    <Loader type=\"Bars\" color=\"#ff8614\" height={200} width={200} />\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Home;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addCategory = (name) => {\n    return axios.post(`/Catigories/add/${name}`).then(({data}) => data);\n}\n\nconst removeCategory = (id) => {\n    return axios.delete(`/Catigories/delete/${id}`)\n}\n\nconst editCategory = (newName, id) => {\n    return axios.post(`Catigories/changeName/${id}?newName=${newName}`)\n        .then(({data})=>data);\n}\n\nconst getCategories = () => {\n    return axios.get('/Catigories/GetAll').then(({data})=>data);\n}\n\nconst categoriesApi = {\n    addCategory,\n    removeCategory,\n    editCategory,\n    getCategories\n}\n\nexport default categoriesApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addProduct = (product) => {\n    return axios.post('/Product/add', product).then(({data})=> data);\n}\n\nconst deleteProduct = (id) => {\n    return axios.delete(`/Product/delete/${id}`);\n}\n\nconst getProducts = () => {\n    return axios.get('/Product/GetAll').then(({data})=> data);\n}\n\nconst changeProductName = (id, name) => {\n    return axios.post(`Product/changeProductName/${id}?name=${name}`).then(({data})=> data);\n}\n\nconst changeProductCategory = (id, categoryName) => {\n    return axios.post(`Product/moveToCategory/${id}?categoryName=${categoryName}`).then(({data})=> data);\n}\n\nconst changeSellingPrice = (id, price) => {\n    return axios.post(`Product/addSallingPrice/${id}?price=${price}`).then(({data})=> data);\n}\n\nconst addArrivalDate = (id, date) => {\n    return axios.post(`Product/addArrivalDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst addSellingDate = (id, date) => {\n    return axios.post(`Product/addSallingDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst productsApi = {\n    addProduct,\n    deleteProduct,\n    getProducts,\n    changeProductName,\n    changeProductCategory,\n    changeSellingPrice,\n    addArrivalDate,\n    addSellingDate\n}\n\nexport default productsApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst userRegister = (user) => {\n    return axios.post('/User/register', user).then(({data})=> data);\n}\n\nconst userLogin = (user) => {\n    return axios.post('/User/login', user).then(({data})=>{\n        token.set(data.token);\n        return data;\n    });\n}\n\nconst deleteUser = (id) => {\n    return axios.delete(`/User/delete/${id}`).then(({data})=>data);\n}\n\nconst addUserCash = (cash, id) => {\n    return axios.post(`/User/addcashformonth/${id}`, cash).then(({data})=> data);\n}\n\nconst getAllUserMoney = (id) => {\n    return axios.get(`User/getAllUserMoney/${id}`).then(({data})=> data);\n}\n\nconst getAllUsers = () => {\n    return axios.get('User/getAllUsers').then(({data})=> data);\n}\n\nconst editLogin = (id,login) => {\n    return axios.post(`User/editLogin/${id}?newLogin=${login}`).then(({data})=> data);\n}\n\nconst usersApi = {\n    userRegister,\n    userLogin,\n    deleteUser,\n    addUserCash,\n    getAllUserMoney,\n    getAllUsers,\n    editLogin\n}\n\nexport default usersApi;"],"names":["HC_more","Highcharts","data","options","chart","plotBackgroundColor","plotBorderWidth","plotShadow","type","title","text","tooltip","pointFormat","accessibility","point","valueSuffix","credits","enabled","plotOptions","pie","allowPointSelect","cursor","series","name","colorByPoint","highcharts","HighchartsMore","Boost","boost","useGPUTranslations","usePreallocated","xAxis","labels","crosshair","tickWidth","min","tickInterval","maxPadding","yAxis","formatter","this","value","crosshairs","headerFormat","pointFormatter","date","y","spline","marker","radius","lineColor","lineWidth","toast","isLoggedIn","navigate","useNavigate","useState","setData","lineChartData","setLineChartData","loading","setLoading","setMounted","reducer","previousValue","currentValue","useEffect","fetchUsers","userApi","response","map","el","login","money","pr","count","moment","time","format","arr","sum","length","reduce","message","position","className","s","color","height","width","addCategory","axios","then","removeCategory","id","editCategory","newName","getCategories","productsApi","addProduct","product","deleteProduct","getProducts","changeProductName","changeProductCategory","categoryName","changeSellingPrice","price","addArrivalDate","addSellingDate","token","usersApi","userRegister","user","userLogin","deleteUser","addUserCash","cash","getAllUserMoney","getAllUsers","editLogin"],"sourceRoot":""}