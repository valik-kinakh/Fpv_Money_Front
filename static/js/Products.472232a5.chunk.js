"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[326],{4620:function(e,t,n){n.d(t,{Mm:function(){return i},UC:function(){return c}});var r="Button_btnWrapper__qLkFf",a="Button_btn__EDhOk",o=n(184),i=function(e){var t=e.text;return(0,o.jsx)("div",{className:r,children:(0,o.jsx)("button",{type:"submit",className:a,children:t})})},c=function(e){var t=e.text,n=e.onClick,i=e.disabled;return(0,o.jsx)("div",{className:r,children:(0,o.jsx)("button",{type:"button",className:a,onClick:n,disabled:i,children:t})})}},2713:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(5861),a=n(885),o=n(7757),i=n.n(o),c="ProductContainer_textWrapper__cwF7V",s="ProductContainer_buttonsWrapper__0JxRT",l="ProductContainer_wrapper__tCm5M",d=n(2426),u=n.n(d),p=n(4620),f=n(7175),h=n(6960),m=(n(5462),n(8062)),v=n(2791),g=n(1413),x=n(2982),b="ModalEditOptions_blockInner__G7H+S",y="ModalEditOptions_closeWrapper__HJyd9",Z="ModalEditOptions_label__djdmy",C="ModalEditOptions_svg__bK52A",j="ModalEditOptions_modalWrapper__InQ2c",N="ModalEditOptions_input__10QKF",k="ModalEditOptions_modalSelect__lHQa5",w=n(2861),D=n(4037),P=n(9891),_=n(1603),S=n(7751),I=n(3915),E=n(4043),M=n(184);h.Am.configure();var O=function(e){var t=e.product,n=e.close,o=(0,v.useState)(!0),c=(0,a.Z)(o,2),s=(c[0],c[1]);console.log(t);var l=(0,v.useState)(t.name),d=(0,a.Z)(l,2),u=d[0],m=d[1],O=(0,v.useState)(t.categoryName),A=(0,a.Z)(O,2),L=A[0],T=A[1],U=(0,v.useState)(t.price.purchasePrice),F=(0,a.Z)(U,2),W=F[0],Y=F[1],G=(0,v.useState)(t.transferDate.purchaseDate),B=(0,a.Z)(G,2),V=B[0],K=B[1],R=(0,v.useState)(t.transferDate.arrivalDate?t.transferDate.arrivalDate:""),z=(0,a.Z)(R,2),H=z[0],q=z[1],Q=(0,v.useState)(t.transferDate.saleDate?t.transferDate.saleDate:""),J=(0,a.Z)(Q,2),X=J[0],$=J[1],ee=(0,v.useState)([]),te=(0,a.Z)(ee,2),ne=te[0],re=te[1];(0,v.useEffect)((function(){return ae(),function(){s(!1)}}),[]);var ae=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Yc.getCategories();case 3:t=e.sent,re((0,x.Z)(t).map((function(e){return{name:e.categoryName,id:e.id}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.response.data.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{className:j,children:[(0,M.jsx)("div",{className:y,children:(0,M.jsx)(w.r,{className:C,onClick:function(){n()}})}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Name"}),(0,M.jsx)("input",{className:N,type:"text",value:u,maxLength:50,onChange:function(e){m(e.target.value)}})]}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Category"}),(0,M.jsx)(D.Z,{className:k,value:L,onChange:function(e){T(e.target.value)},children:ne.map((function(e){return(0,M.jsx)(P.Z,{value:e.name,children:e.name},e.id)}))})]}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Purchase price"}),(0,M.jsx)("input",{className:N,type:"number",value:W,onChange:function(e){Number(e.target.value)>-1&&Y(Number(e.target.value))}})]}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Purchase date"}),(0,M.jsx)(I.Z,{dateAdapter:S.Z,children:(0,M.jsx)(E.Z,{disableFuture:!0,label:"Date",openTo:"day",value:V,onChange:function(e){K(e)},renderInput:function(e){return(0,M.jsx)(_.Z,(0,g.Z)({},e))}})})]}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Arrival date"}),(0,M.jsx)(I.Z,{dateAdapter:S.Z,children:(0,M.jsx)(E.Z,{disableFuture:!0,label:"Date",openTo:"day",value:H,onChange:function(e){q(e)},renderInput:function(e){return(0,M.jsx)(_.Z,(0,g.Z)({},e))}})})]}),(0,M.jsxs)("div",{className:b,children:[(0,M.jsx)("label",{className:Z,children:"Date of sale"}),(0,M.jsx)(I.Z,{dateAdapter:S.Z,children:(0,M.jsx)(E.Z,{disableFuture:!0,label:"Date",openTo:"day",value:X,onChange:function(e){$(e)},renderInput:function(e){return(0,M.jsx)(_.Z,(0,g.Z)({},e))}})})]}),(0,M.jsx)(p.UC,{text:"save",disabled:!u||!L||!V||!W})]})};h.Am.configure();var A=function(e){var t=e.product,n=e.fetchCategories,o=(0,m.d)("root",{preventScroll:!0,closeOnOverlayClick:!0}),d=(0,a.Z)(o,4),v=d[0],g=d[1],x=d[2],b=(d[3],function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.fi.deleteProduct(t.id);case 3:h.Am.success("Product deleted successfully",{position:"top-center"}),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return(0,M.jsxs)("div",{className:l,children:[(0,M.jsx)("div",{className:c,children:(0,M.jsxs)("p",{children:["Product name: ",t.name]})}),(0,M.jsx)("div",{className:c,children:(0,M.jsxs)("p",{children:["Category: ",t.categoryName]})}),(0,M.jsx)("div",{className:c,children:(0,M.jsxs)("p",{children:["Purchase price: ",t.price.purchasePrice]})}),(0,M.jsx)("div",{className:c,children:(0,M.jsxs)("p",{children:["Purchase date: ",u()(t.transferDate.purchaseDate).format("DD/MM/YYYY")]})}),(0,M.jsx)("div",{className:c,children:(0,M.jsx)("p",{children:t.transferDate.arrivalDate?"Arrival date: ".concat(u()(t.transferDate.arrivalDate).format("DD/MM/YYYY")):"No arrival date found"})}),(0,M.jsx)("div",{className:c,children:(0,M.jsx)("p",{children:t.transferDate.saleDate?"Sell date: ".concat(u()(t.transferDate.saleDate).format("DD/MM/YYYY")):"No selling date found"})}),(0,M.jsxs)("div",{className:s,children:[(0,M.jsx)(p.UC,{text:"Edit product",disabled:!1,onClick:function(){g()}}),(0,M.jsx)(p.UC,{text:"Delete product",disabled:!1,onClick:b})]}),(0,M.jsx)(v,{children:(0,M.jsx)(O,{product:t,close:x})})]})}},9087:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(5861),a=n(885),o=n(7757),i=n.n(o),c="Products_wrapper__aniuN",s=n(6871),l=n(2791),d=n(8909),u=n(6960),p=(n(5462),n(7175)),f=n(2713),h=n(184);u.Am.configure();var m=function(e){var t=e.isLoggedIn,n=(0,s.s0)(),o=(0,l.useState)([]),m=(0,a.Z)(o,2),v=m[0],g=m[1],x=(0,l.useState)(!1),b=(0,a.Z)(x,2),y=(b[0],b[1]);(0,l.useEffect)((function(){t||n("/login")}),[t]),(0,l.useEffect)((function(){return Z(),function(){y(!0)}}),[]);var Z=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.fi.getProducts();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.Am.error(e.t0.response.data.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(d.Z,{children:(0,h.jsx)("div",{className:c,children:v.length>0&&v.map((function(e){return(0,h.jsx)(f.Z,{product:e,fetchCategories:Z})}))})})}},7175:function(e,t,n){n.d(t,{Yc:function(){return o},fi:function(){return c},BG:function(){return d}});var r=n(4569),a=n.n(r),o={addCategory:function(e){return a().post("/Catigories/add/".concat(e)).then((function(e){return e.data}))},removeCategory:function(e){return a().delete("/Catigories/delete/".concat(e))},editCategory:function(e,t){return a().post("Catigories/changeName/".concat(t,"?newName=").concat(e)).then((function(e){return e.data}))},getCategories:function(){return a().get("/Catigories/GetAll").then((function(e){return e.data}))}},i={addProduct:function(e){return a().post("/Product/add",e).then((function(e){return e.data}))},deleteProduct:function(e){return a().delete("/Product/delete/".concat(e))},getProducts:function(){return a().get("/Product/GetAll").then((function(e){return e.data}))},changeProductName:function(e,t){return a().post("Product/changeProductName/".concat(e,"?name=").concat(t)).then((function(e){return e.data}))},changeProductCategory:function(e,t){return a().post("Product/moveToCategory/".concat(e,"?categoryName=").concat(t)).then((function(e){return e.data}))},changeSellingPrice:function(e,t){return a().post("Product/changeSallingPrice/".concat(e,"?price=").concat(t)).then((function(e){return e.data}))},addArrivalDate:function(e,t){return a().post("Product/addArrivalDate/".concat(e,"?time=").concat(t)).then((function(e){return e.data}))},addSellingDate:function(e,t){return a().post("Product/addSallingDate/".concat(e,"?time=").concat(t)).then((function(e){return e.data}))}},c=i,s=function(e){a().defaults.headers.common.Authorization="Bearer ".concat(e)},l={userRegister:function(e){return a().post("/User/register",e).then((function(e){return e.data}))},userLogin:function(e){return a().post("/User/login",e).then((function(e){var t=e.data;return s(t.token),t}))},deleteUser:function(e){return a().delete("/User/delete/".concat(e)).then((function(e){return e.data}))},addUserCash:function(e,t){return a().post("/User/addcashformonth/".concat(t),e).then((function(e){return e.data}))},getAllUserMoney:function(e){return a().get("User/getAllUserMoney/".concat(e)).then((function(e){return e.data}))},getAllUsers:function(){return a().get("User/getAllUsers").then((function(e){return e.data}))},editLogin:function(e,t){return a().post("User/editLogin/".concat(e,"?newLogin=").concat(t)).then((function(e){return e.data}))}},d=l},9891:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(4942),a=n(3366),o=n(7462),i=n(2791),c=n(8182),s=n(767),l=n(2065),d=n(5255),u=n(3736),p=n(9480),f=n(4051),h=n(162),m=n(2071),v=n(208);var g=(0,v.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var x=(0,v.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var b=(0,v.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),y=n(6597);function Z(e){return(0,y.Z)("MuiMenuItem",e)}var C=(0,v.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=n(184),N=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],k=(0,d.ZP)(f.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,o.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,r.Z)(t,"&.".concat(C.selected),(0,r.Z)({backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,r.Z)(t,"&.".concat(C.selected,":hover"),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,r.Z)(t,"&.".concat(C.focusVisible),{backgroundColor:n.palette.action.focus}),(0,r.Z)(t,"&.".concat(C.disabled),{opacity:n.palette.action.disabledOpacity}),(0,r.Z)(t,"& + .".concat(g.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,r.Z)(t,"& + .".concat(g.inset),{marginLeft:52}),(0,r.Z)(t,"& .".concat(b.root),{marginTop:0,marginBottom:0}),(0,r.Z)(t,"& .".concat(b.inset),{paddingLeft:36}),(0,r.Z)(t,"& .".concat(x.root),{minWidth:36}),t),!a.dense&&(0,r.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),a.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,r.Z)({},"& .".concat(x.root," svg"),{fontSize:"1.25rem"})))})),w=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,l=void 0!==r&&r,d=n.component,f=void 0===d?"li":d,v=n.dense,g=void 0!==v&&v,x=n.divider,b=void 0!==x&&x,y=n.disableGutters,C=void 0!==y&&y,w=n.focusVisibleClassName,D=n.role,P=void 0===D?"menuitem":D,_=n.tabIndex,S=(0,a.Z)(n,N),I=i.useContext(p.Z),E={dense:g||I.dense||!1,disableGutters:C},M=i.useRef(null);(0,h.Z)((function(){l&&M.current&&M.current.focus()}),[l]);var O,A=(0,o.Z)({},n,{dense:E.dense,divider:b,disableGutters:C}),L=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,i=e.selected,c=e.classes,l={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},d=(0,s.Z)(l,Z,c);return(0,o.Z)({},c,d)}(n),T=(0,m.Z)(M,t);return n.disabled||(O=void 0!==_?_:-1),(0,j.jsx)(p.Z.Provider,{value:E,children:(0,j.jsx)(k,(0,o.Z)({ref:T,role:P,tabIndex:O,component:f,focusVisibleClassName:(0,c.Z)(L.focusVisible,w)},S,{ownerState:A,classes:L}))})}))},8062:function(e,t,n){n.d(t,{d:function(){return p}});var r=n(2791),a=n(4164),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=function(){return"undefined"!==typeof window&&!!window.document&&!!window.document.createElement},c=new(function(){function e(){var e=this;this.handleWheel=function(e){e.preventDefault()},this.handleScroll=function(){window.scrollTo.apply(window,e.lockToScrollPos)},this.handleKeydown=function(t){var n=e.options.keyboardKeys;["INPUT","TEXTAREA"].includes(t.target.tagName)&&(n=n.filter((function(t){return!e.options.authorizedInInputs.includes(t)}))),n.includes(t.keyCode)&&t.preventDefault()},this.element=null,this.lockToScrollPos=[0,0],this.options={authorizedInInputs:[32,37,38,39,40],disableKeys:!0,disableScroll:!0,disableWheel:!0,keyboardKeys:[32,33,34,35,36,37,38,39,40]},i()&&(this.element=document.scrollingElement)}return e.prototype.on=function(e,t){var n,r,a,c;if(i()){this.element=e||this.element,this.options=o(o({},this.options),t);var s=this.options,l=s.disableKeys,d=s.disableScroll;s.disableWheel&&(document.addEventListener("wheel",this.handleWheel,{passive:!1}),document.addEventListener("touchmove",this.handleWheel,{passive:!1})),d&&(this.lockToScrollPos=[null!==(r=null===(n=this.element)||void 0===n?void 0:n.scrollLeft)&&void 0!==r?r:0,null!==(c=null===(a=this.element)||void 0===a?void 0:a.scrollTop)&&void 0!==c?c:0],document.addEventListener("scroll",this.handleScroll,{passive:!1})),l&&document.addEventListener("keydown",this.handleKeydown,{passive:!1})}},e.prototype.off=function(){i()&&(document.removeEventListener("wheel",this.handleWheel),document.removeEventListener("touchmove",this.handleWheel),document.removeEventListener("scroll",this.handleScroll),document.removeEventListener("keydown",this.handleKeydown))},e}()),s={position:"fixed",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},l={position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e5},d={position:"relative",zIndex:100001},u=function(e){var t=e.children,n=e.isOpen,o=e.elementId,i=void 0===o?"root":o;return!1===(void 0!==n&&n)?null:(0,a.createPortal)(r.createElement("div",{style:s},r.createElement("div",{style:l,onClick:e.onOverlayClick}),r.createElement("div",{style:d},t)),document.getElementById(i))},p=function(e,t){void 0===e&&(e="root"),void 0===t&&(t={});var n=t.preventScroll,a=void 0!==n&&n,o=t.closeOnOverlayClick,i=void 0===o||o,s=(0,r.useState)(!1),l=s[0],d=s[1],p=(0,r.useCallback)((function(){d(!0),a&&c.on()}),[d,a]),f=(0,r.useCallback)((function(){d(!1),a&&c.off()}),[d,a]),h=(0,r.useCallback)((function(e){e.stopPropagation(),i&&f()}),[i,f]);return[(0,r.useCallback)((function(t){return r.createElement(u,{isOpen:l,onOverlayClick:h,elementId:e},t.children)}),[l,f,e]),p,f,l]}}}]);
//# sourceMappingURL=Products.472232a5.chunk.js.map