{"version":3,"file":"static/js/Categories.cecc9868.chunk.js","mappings":"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","sources":["img/userProfile/edit.svg","webpack://client/./src/pages/Categories/Categories.module.css?ce7d","webpack://client/./src/components/CategoryContainer/CategoryContainer.module.css?b143","components/CategoryContainer/CategoryContainer.js","pages/Categories/Categories.js"],"sourcesContent":["var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 26,\n    viewBox: \"0 0 14 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.2399 1.48317L12.2416 2.29853C12.5562 2.42667 12.807 2.67454 12.9388 2.98761C13.0707 3.30067 13.0727 3.65329 12.9446 3.96788L6.03763 20.9244L1.66358 19.1427L8.57054 2.18618C8.69868 1.87159 8.94655 1.62078 9.25962 1.48894C9.57268 1.3571 9.9253 1.35503 10.2399 1.48317V1.48317Z\",\n    strokeMiterlimit: 10\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.00391 3.80371L12.375 5.5842\",\n    strokeMiterlimit: 10\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.03811 20.9253L2.18628 24.1172L1.66406 19.1436\",\n    strokeMiterlimit: 10\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.d4057f94649ca9add8cebec87f98d0ba.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"button32\":\"Categories_button32__xAPZt\",\"loaderWrapper\":\"Categories_loaderWrapper__iSIka\",\"buttonWrapper\":\"Categories_buttonWrapper__Elf6F\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CategoryContainer_container__IMEzH\",\"select\":\"CategoryContainer_select__eT1-n\",\"loaderWrapper\":\"CategoryContainer_loaderWrapper__LLn+S\",\"wrapper\":\"CategoryContainer_wrapper__diBS5\",\"innerContainer\":\"CategoryContainer_innerContainer__6d3uJ\",\"button\":\"CategoryContainer_button__rw+ww\",\"editInput\":\"CategoryContainer_editInput__jNnrO\",\"text\":\"CategoryContainer_text__qUYr8\"};","import s from './CategoryContainer.module.css';\nimport {UploadContentButton} from \"../../Button\";\nimport { ReactComponent as Edit } from \"../../img/userProfile/edit.svg\";\nimport React, {useEffect, useState} from \"react\";\nimport {categoriesApi} from \"../../services\";\nimport states from \"../../config/states\";\nimport ProductContainer from \"../ProductContainer\";\n\n\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {MenuItem, Select} from \"@mui/material\";\nimport Loader from \"react-loader-spinner\";\n\ntoast.configure();\n\nconst CategoryContainer = ({id, categoryName, fetchCategories}) => {\n    const [enableEdit, setEnableEdit] = useState(false);\n    const [newCategoryName, setNewCategoryName] = useState(categoryName);\n    const [showProducts, setShowProducts] = useState(false);\n    const [products, setProducts] = useState([]);\n    const [state, setState] = useState(0);\n\n    const [loading, setLoading] = useState(false);\n\n    const handleEditChange = () => {\n        setEnableEdit(!enableEdit);\n    }\n    const handleNameChange = (e) => {\n        setNewCategoryName(e.target.value);\n    }\n\n    const handleSave = async () => {\n        try {\n            await categoriesApi.editCategory(newCategoryName,id);\n            fetchCategories();\n            setEnableEdit(false)\n            toast.success('Category successfully updated',{\n                position:'top-center'\n            })\n        }catch (e) {\n            toast.error(e.response.data.message,{\n                position:'top-center'\n            })\n        }\n    }\n    \n    const handleDelete = async () => {\n        try {\n            await categoriesApi.removeCategory(id)\n            fetchCategories();\n        }catch (e) {\n            toast.error(e.response.data.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    const fetchProducts = async () => {\n        setLoading(true);\n        try {\n           const response = await categoriesApi.getProductsByCategoryId(id,state);\n           setProducts(response.products);\n            setLoading(false);\n        }catch (e) {\n            setLoading(false);\n            toast.error(e.response.data.message, {\n                position:'top-center'\n            })\n        }\n    }\n\n    const onSelectChange = (e) => {\n        setState(e.target.value);\n    }\n\n    useEffect(()=>{\n        if (showProducts){\n            fetchProducts();\n        }\n    },[showProducts,state])\n\n    const handleShow = () => {\n        setShowProducts(!showProducts);\n    }\n    return(<><div className={s.container}>\n        <div className={s.innerContainer}>\n            {\n                enableEdit ? <input type='text' maxLength={50} value={newCategoryName || ''}\n                                    className={s.editInput} placeholder='Category name' onChange={handleNameChange}/>:\n                    <div>{categoryName}</div>\n            }\n        </div>\n        <div className={s.innerContainer}>\n            <button className={s.button} onClick={handleEditChange}>\n                <Edit className= {enableEdit ? \"editTrue\" : 'editFalse'}/>\n            </button>\n            {\n                enableEdit && <div>\n                <UploadContentButton text='Save' disabled={!newCategoryName} onClick={handleSave}/>\n                <UploadContentButton text='Delete category' disabled={false} onClick={handleDelete}/>\n                </div>\n            }\n        </div>\n        <div className={s.innerContainer}>\n            <Select onChange={onSelectChange} value={state} className={s.select}>\n                {\n                    states.map(el => {\n                        return <MenuItem key={el.id} value={el.id}>{el.name}</MenuItem>\n                    })\n                }\n            </Select>\n        </div>\n        <div className={s.innerContainer}>\n            <UploadContentButton text={showProducts?'Hide products':'Show products'} disabled={false} onClick={handleShow}/>\n        </div>\n    </div>\n        <div className={s.wrapper}>\n        {\n            products.length > 0 && !loading && showProducts && products.map(product => {\n                return <ProductContainer key={product.id} product={product} fetchCategories={fetchProducts}/>\n            })\n        }\n        </div>\n        {\n            showProducts && !loading && products.length === 0 && <p style={{textAlign:'center'}}>No products of this category found</p>\n        }\n        {\n            loading && <div className={s.loaderWrapper}>\n                <Loader type=\"Bars\" color=\"#ff8614\" height={100} width={100} />\n            </div>\n        }\n    </>)\n}\n\nexport default CategoryContainer;","import s from './Categories.module.css';\nimport {NavLink, useNavigate} from \"react-router-dom\";\nimport {categoriesApi} from \"../../services\";\nimport React, {useEffect, useState} from \"react\";\nimport Container from \"../../components/Container\";\n\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport CategoryContainer from \"../../components/CategoryContainer\";\nimport {UploadContentButton} from \"../../Button\";\nimport routes from \"../../config/routes\";\nimport {BsTable} from \"react-icons/bs\";\nimport Loader from \"react-loader-spinner\";\n\ntoast.configure();\n\nconst Categories = ({isLoggedIn}) => {\n    const navigate = useNavigate();\n    const [categories, setCategories] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [mounted, setMounted] = useState(false)\n\n    useEffect(()=>{\n        if (!isLoggedIn){\n            navigate('/login');\n        }\n    },[isLoggedIn])\n\n    useEffect(()=>{\n        setLoading(true)\n        fetchCategories().then(()=>{\n            setLoading(false)\n        })\n        return () => {\n            setMounted(true);\n        }\n    },[])\n\n    const fetchCategories = async () => {\n        try {\n            const response = await categoriesApi.getCategories();\n            setCategories(response);\n        }catch (e) {\n            toast.error(e.response.data.message, {\n                position:'top-center'\n            })\n        }\n    }\n\n    return(<Container>\n        {\n            loading ? <div className={s.loaderWrapper}>\n                <Loader type=\"Bars\" color=\"#ff8614\" height={200} width={200} />\n            </div> : <>\n                {\n                    categories.length > 0 && categories.map(category=>{\n                        return <CategoryContainer key={category.id} id={category.id} categoryName={category.categoryName}\n                                                   fetchCategories={fetchCategories}\n                        />\n                    })\n                }\n                <NavLink to={routes.addCategory}><UploadContentButton text='Add category'/></NavLink>\n                <div className={s.buttonWrapper}><a className={s.button32} href='https://fpvworldmoneyapi.azurewebsites.net/Common/generateExcel'><BsTable/><br/>Generate exel</a></div>\n            </>\n        }\n    </Container>)\n}\n\nexport default Categories;"],"names":["_path","_path2","_path3","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgEdit","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","strokeMiterlimit","ForwardRef","toast","categoryName","fetchCategories","useState","enableEdit","setEnableEdit","newCategoryName","setNewCategoryName","showProducts","setShowProducts","products","setProducts","state","setState","loading","setLoading","handleSave","categoriesApi","position","response","data","message","handleDelete","fetchProducts","useEffect","className","s","type","maxLength","value","placeholder","onChange","e","onClick","text","disabled","Select","states","el","MenuItem","name","map","product","ProductContainer","style","textAlign","color","isLoggedIn","navigate","useNavigate","categories","setCategories","setMounted","then","Container","category","to","routes","href"],"sourceRoot":""}