"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[918],{4620:function(e,t,n){n.d(t,{Mm:function(){return i},UC:function(){return o}});var r="Button_btnWrapper__qLkFf",s="Button_btn__EDhOk",c=n(184),i=function(e){var t=e.text;return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("button",{type:"submit",className:s,children:t})})},o=function(e){var t=e.text,n=e.onClick,i=e.disabled;return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("button",{type:"button",className:s,onClick:n,disabled:i,children:t})})}},869:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(5861),s=n(885),c=n(7757),i=n.n(c),o="UserProfile_container__SeZs0",a="UserProfile_header__hjSjI",u="UserProfile_divInput__fRW6q",l="UserProfile_save__-Zgby",d="UserProfile_editInput__nnmvX",f="UserProfile_buttons__AfXmw",h="UserProfile_buttons2__v2gDO",p=n(8909),x=n(2791),v=n(3504),g=n(6871),m=n(2434),U=n(9944),C=n(6960),j=(n(5462),n(4620)),_=n(184);C.Am.configure();var b=function(e){var t=e.isLoggedIn,n=e.id,c=e.login,b=e.logoutHandler,k=(0,g.s0)(),y=(0,x.useState)(!1),A=(0,s.Z)(y,2),N=A[0],w=A[1],Z=(0,x.useState)(c||""),L=(0,s.Z)(Z,2),P=L[0],B=L[1],S=(0,x.useState)(0),E=(0,s.Z)(S,2),G=E[0],I=E[1],M=(0,x.useState)(!1),D=(0,s.Z)(M,2),O=(D[0],D[1]);(0,x.useEffect)((function(){t||k("/login")}),[t]),(0,x.useEffect)((function(){return c&&n&&R(),function(){O(!0)}}),[c,n]);var R=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.BG.getAllUserMoney(n);case 3:t=e.sent,I(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.Am.error(e.t0.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),q=function(){w(!N)},W=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.BG.editLogin(n,P);case 3:C.Am.success("User successfully updated",{position:"top-center"}),w(!N),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.Am.error(e.t0.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.BG.deleteUser(n);case 3:C.Am.success("Account successfully deleted",{position:"top-center"}),b(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.Am.error(e.t0.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(p.Z,{children:[(0,_.jsx)("h1",{className:a,children:"User Profile"}),n&&c&&(0,_.jsxs)("div",{className:o,children:[N?(0,_.jsxs)("div",{className:u,children:[(0,_.jsx)("input",{type:"text",className:d,value:P,onChange:function(e){B(e.target.value)},maxLength:20}),(0,_.jsx)("div",{className:l,children:(0,_.jsx)(j.UC,{text:"Save",disabled:!P,onClick:W})})]}):(0,_.jsx)("h2",{className:a,children:P}),(0,_.jsxs)("p",{className:a,children:["Invested money: ",G.contributionCount]}),N?(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:N?"Cancel":"Edit profile",disabled:!1,onClick:q})}),(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:"Delete account",disabled:!1,onClick:X})})]}):(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:N?"Cancel":"Edit profile",disabled:!1,onClick:q})}),(0,_.jsx)("div",{children:(0,_.jsx)(j.UC,{text:"Logout",disabled:!1,onClick:b})}),(0,_.jsx)("div",{children:(0,_.jsx)(v.OL,{to:U.Z.moneyReport,children:(0,_.jsx)(j.UC,{text:"Add report"})})})]})]})]})}},2434:function(e,t,n){n.d(t,{Yc:function(){return c},BG:function(){return a}});var r=n(4569),s=n.n(r),c={addCategory:function(e){return s().post("/Catigories/add/".concat(e)).then((function(e){return e.data}))},removeCategory:function(e){return s().delete("/Catigories/delete/".concat(e))},editCategory:function(e,t){return s().post("Catigories/changeName/".concat(t,"?newName=").concat(e)).then((function(e){return e.data}))},getCategories:function(){return s().get("/Catigories/GetAll").then((function(e){return e.data}))}},i=function(e){s().defaults.headers.common.Authorization="Bearer ".concat(e)},o={userRegister:function(e){return s().post("/User/register",e).then((function(e){return e.data}))},userLogin:function(e){return s().post("/User/login",e).then((function(e){var t=e.data;return i(t.token),t}))},deleteUser:function(e){return s().delete("/User/delete/".concat(e)).then((function(e){return e.data}))},addUserCash:function(e,t){return s().post("/User/addcashformonth/".concat(t),e).then((function(e){return e.data}))},getAllUserMoney:function(e){return s().get("User/getAllUserMoney/".concat(e)).then((function(e){return e.data}))},getAllUsers:function(){return s().get("User/getAllUsers").then((function(e){return e.data}))},editLogin:function(e,t){return s().post("User/editLogin/".concat(e,"?newLogin=").concat(t)).then((function(e){return e.data}))}},a=o}}]);
//# sourceMappingURL=UserProfile.7e664485.chunk.js.map