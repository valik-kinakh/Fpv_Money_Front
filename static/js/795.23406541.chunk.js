"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[795],{5501:function(e,t,n){n.d(t,{Lw:function(){return l},Mm:function(){return s},UC:function(){return i}});var r="Button_btnWrapper__qLkFf",a="Button_btn__EDhOk",c=n(184),s=function(e){var t=e.text;return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("button",{type:"submit",className:a,children:t})})},i=function(e){var t=e.text,n=e.onClick,s=e.disabled;return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("button",{type:"button",className:a,onClick:n,disabled:s,children:t})})},o="CancelButton_btnWrapper__A2FYZ",u="CancelButton_btn__8Kg8l",l=function(e){var t=e.text,n=e.onClick,r=e.disabled;return(0,c.jsx)("div",{className:o,children:(0,c.jsx)("button",{type:"button",className:u,onClick:n,disabled:r,children:t})})}},5795:function(e,t,n){n.d(t,{Z:function(){return G}});var r=n(5861),a=n(885),c=n(7757),s=n.n(c),i="ProductContainer_textWrapper__cwF7V",o="ProductContainer_buttonsWrapper__0JxRT",u="ProductContainer_wrapper__tCm5M",l=n(2426),d=n.n(l),f=n(5501),p=n(7175),h=n(6960),m=(n(5462),n(8062)),x=n(2791),g=n(1413),v=n(2982),j="ModalEditOptions_blockInner__G7H+S",C="ModalEditOptions_closeWrapper__HJyd9",_="ModalEditOptions_loaderWrapper__7h1G3",N="ModalEditOptions_label__djdmy",b="ModalEditOptions_svg__bK52A",D="ModalEditOptions_modalWrapper__InQ2c",Z="ModalEditOptions_input__10QKF",y="ModalEditOptions_modalSelect__lHQa5",P=n(2861),k=n(4037),w=n(9891),S=n(1603),A=n(7751),U=n(3915),M=n(4043),O=n(6153),Y=n(184);h.Am.configure();var E=function(e){var t=e.product,n=e.close,c=e.fetchProducts,i=(0,x.useState)(!0),o=(0,a.Z)(i,2),u=(o[0],o[1]),l=(0,x.useState)(!1),d=(0,a.Z)(l,2),m=d[0],E=d[1],F=(0,x.useState)(t.name),L=(0,a.Z)(F,2),T=L[0],W=L[1],B=(0,x.useState)(t.categoryName),G=(0,a.Z)(B,2),I=G[0],H=G[1],J=(0,x.useState)(t.price.purchasePrice),K=(0,a.Z)(J,2),Q=K[0],R=K[1],V=(0,x.useState)(t.price.sallingPrice?t.price.sallingPrice:""),z=(0,a.Z)(V,2),q=z[0],X=z[1],$=(0,x.useState)(t.transferDate.purchaseDate),ee=(0,a.Z)($,2),te=ee[0],ne=ee[1],re=(0,x.useState)(t.transferDate.arrivalDate?t.transferDate.arrivalDate:""),ae=(0,a.Z)(re,2),ce=ae[0],se=ae[1],ie=(0,x.useState)(t.transferDate.saleDate?t.transferDate.saleDate:""),oe=(0,a.Z)(ie,2),ue=oe[0],le=oe[1],de=(0,x.useState)([]),fe=(0,a.Z)(de,2),pe=fe[0],he=fe[1];(0,x.useEffect)((function(){return me(),function(){u(!1)}}),[]);var me=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Yc.getCategories();case 3:t=e.sent,he((0,v.Z)(t).map((function(e){return{name:e.categoryName,id:e.id}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.response.data.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,p.fi.changeProductName(t.id,T);case 4:return e.next=6,p.fi.changeProductCategory(t.id,I);case 6:if(!q){e.next=9;break}return e.next=9,p.fi.changeSellingPrice(t.id,q);case 9:if(!ce){e.next=12;break}return e.next=12,p.fi.addArrivalDate(t.id,new Date(ce).toUTCString());case 12:if(!ue){e.next=15;break}return e.next=15,p.fi.addSellingDate(t.id,new Date(ue).toUTCString());case 15:h.Am.success("Product successfully updated",{position:"top-center"}),E(!1),n(),c(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),h.Am.error(e.t0.response.data.message,{position:"top-center"}),E(!1);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();return(0,Y.jsxs)("div",{className:D,children:[(0,Y.jsx)("div",{className:C,children:(0,Y.jsx)(P.r,{className:b,onClick:function(){n()}})}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Name"}),(0,Y.jsx)("input",{className:Z,type:"text",value:T,maxLength:50,onChange:function(e){W(e.target.value)}})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Category"}),(0,Y.jsx)(k.Z,{className:y,value:I,onChange:function(e){H(e.target.value)},children:pe.map((function(e){return(0,Y.jsx)(w.Z,{value:e.name,children:e.name},e.id)}))})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Purchase price"}),(0,Y.jsx)("input",{className:Z,type:"number",value:Q,onChange:function(e){Number(e.target.value)>-1&&R(Number(e.target.value))},disabled:!0})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Selling price"}),(0,Y.jsx)("input",{className:Z,type:"number",value:q,onChange:function(e){Number(e.target.value)>-1&&X(Number(e.target.value))}})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Purchase date"}),(0,Y.jsx)(U.Z,{dateAdapter:A.Z,children:(0,Y.jsx)(M.Z,{disableFuture:!0,label:"Date",openTo:"day",value:te,onChange:function(e){ne(e)},renderInput:function(e){return(0,Y.jsx)(S.Z,(0,g.Z)({},e))}})})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Arrival date"}),(0,Y.jsx)(U.Z,{dateAdapter:A.Z,children:(0,Y.jsx)(M.Z,{disableFuture:!0,label:"Date",openTo:"day",value:ce,onChange:function(e){se(e)},renderInput:function(e){return(0,Y.jsx)(S.Z,(0,g.Z)({},e))}})})]}),(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsx)("label",{className:N,children:"Date of sale"}),(0,Y.jsx)(U.Z,{dateAdapter:A.Z,children:(0,Y.jsx)(M.Z,{disableFuture:!0,label:"Date",openTo:"day",value:ue,onChange:function(e){le(e)},renderInput:function(e){return(0,Y.jsx)(S.Z,(0,g.Z)({},e))}})})]}),m?(0,Y.jsx)("div",{className:_,children:(0,Y.jsx)(O.Z,{type:"Circles",color:"#ff8614",height:35,width:35})}):(0,Y.jsx)(f.UC,{text:"save",disabled:!T||!I||!te||!Q,onClick:xe})]})},F="DeleteOption_wrapper__XRUxV",L="DeleteOption_message__+l3gJ",T="DeleteOption_loaderWrapper__V0Uc1",W="DeleteOption_buttons__5Tlrt";var B=function(e){var t=e.deleteFunc,n=e.close,c=e.id,i=void 0===c?void 0:c,o=e.message,u=(0,x.useState)(!1),l=(0,a.Z)(u,2),d=l[0],p=l[1],h=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!i){e.next=6;break}return e.next=4,t(i);case 4:e.next=8;break;case 6:return e.next=8,t();case 8:p(!1),n();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Y.jsxs)("div",{className:F,children:[(0,Y.jsx)("p",{className:L,children:o}),(0,Y.jsxs)("div",{className:W,children:[(0,Y.jsx)(f.Lw,{text:"Cancel",onClick:n,disabled:d}),d?(0,Y.jsx)("div",{className:T,children:(0,Y.jsx)(O.Z,{type:"Circles",color:"#ff8614",height:35,width:35})}):(0,Y.jsx)(f.UC,{text:"Confirm",onClick:h,disabled:!1})]})]})};h.Am.configure();var G=function(e){var t=e.product,n=e.fetchCategories,c=(0,m.d)("root",{preventScroll:!0,closeOnOverlayClick:!0}),l=(0,a.Z)(c,4),x=l[0],g=l[1],v=l[2],j=(l[3],(0,m.d)("root",{preventScroll:!0,closeOnOverlayClick:!0})),C=(0,a.Z)(j,4),_=C[0],N=C[1],b=C[2],D=(C[3],function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.fi.deleteProduct(t.id);case 3:h.Am.success("Product deleted successfully",{position:"top-center"}),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.message,{position:"top-center"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return(0,Y.jsxs)("div",{className:u,children:[(0,Y.jsx)("div",{className:i,children:(0,Y.jsxs)("p",{children:["Product name: ",t.name]})}),(0,Y.jsx)("div",{className:i,children:(0,Y.jsxs)("p",{children:["Category: ",t.categoryName]})}),(0,Y.jsx)("div",{className:i,children:(0,Y.jsxs)("p",{children:["Purchase price: ",t.price.purchasePrice]})}),(0,Y.jsx)("div",{className:i,children:(0,Y.jsxs)("p",{children:["Purchase date: ",d()(t.transferDate.purchaseDate).format("DD/MM/YYYY")]})}),(0,Y.jsx)("div",{className:i,children:(0,Y.jsx)("p",{children:t.transferDate.arrivalDate?"Arrival date: ".concat(d()(t.transferDate.arrivalDate).format("DD/MM/YYYY")):"No arrival date found"})}),(0,Y.jsx)("div",{className:i,children:(0,Y.jsx)("p",{children:t.transferDate.saleDate?"Sell date: ".concat(d()(t.transferDate.saleDate).format("DD/MM/YYYY")):"No selling date found"})}),(0,Y.jsxs)("div",{className:o,children:[(0,Y.jsx)(f.UC,{text:"Edit product",disabled:!1,onClick:function(){g()}}),(0,Y.jsx)(f.UC,{text:"Delete product",disabled:!1,onClick:function(){N()}})]}),(0,Y.jsx)(x,{children:(0,Y.jsx)(E,{product:t,close:v,fetchProducts:n})}),(0,Y.jsx)(_,{children:(0,Y.jsx)(B,{message:"Do you want to delete this product",close:b,id:t.id,deleteFunc:D})})]})}},7175:function(e,t,n){n.d(t,{Yc:function(){return c},m5:function(){return d},fi:function(){return i},BG:function(){return l}});var r=n(4569),a=n.n(r),c={addCategory:function(e){return a().post("/Catigories/add/".concat(e)).then((function(e){return e.data}))},removeCategory:function(e){return a().delete("/Catigories/delete/".concat(e))},editCategory:function(e,t){return a().post("Catigories/changeName/".concat(t,"?newName=").concat(e)).then((function(e){return e.data}))},getCategories:function(){return a().get("/Catigories/GetAll").then((function(e){return e.data}))}},s={addProduct:function(e){return a().post("/Product/add",e).then((function(e){return e.data}))},deleteProduct:function(e){return a().delete("/Product/delete/".concat(e))},getProducts:function(e){return a().get("/Product/GetAll?state=".concat(e)).then((function(e){return e.data}))},changeProductName:function(e,t){return a().post("Product/changeProductName/".concat(e,"?name=").concat(t)).then((function(e){return e.data}))},changeProductCategory:function(e,t){return a().post("Product/moveToCategory/".concat(e,"?categoryName=").concat(t)).then((function(e){return e.data}))},changeSellingPrice:function(e,t){return a().post("Product/addSallingPrice/".concat(e,"?price=").concat(t)).then((function(e){return e.data}))},addArrivalDate:function(e,t){return a().post("Product/addArrivalDate/".concat(e,"?time=").concat(t)).then((function(e){return e.data}))},addSellingDate:function(e,t){return a().post("Product/addSallingDate/".concat(e,"?time=").concat(t)).then((function(e){return e.data}))}},i=s,o=function(e){a().defaults.headers.common.Authorization="Bearer ".concat(e)},u={userRegister:function(e){return a().post("/User/register",e).then((function(e){return e.data}))},userLogin:function(e){return a().post("/User/login",e).then((function(e){var t=e.data;return o(t.token),t}))},deleteUser:function(e){return a().delete("/User/delete/".concat(e)).then((function(e){return e.data}))},addUserCash:function(e,t){return a().post("/User/addcashformonth/".concat(t),e).then((function(e){return e.data}))},getAllUserMoney:function(e){return a().get("User/getAllUserMoney/".concat(e)).then((function(e){return e.data}))},getAllUsers:function(){return a().get("User/getAllUsers").then((function(e){return e.data}))},editLogin:function(e,t){return a().post("User/editLogin/".concat(e,"?newLogin=").concat(t)).then((function(e){return e.data}))}},l=u,d={generateExel:function(){return a().get("/Common/generateExcel").then((function(e){return e.data}))},getCashFlow:function(){return a().get("/Common/chashFlow").then((function(e){return e.data}))},convertMoney:function(e){return a().get("https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/".concat(e,".json")).then((function(e){return e.data}))}}}}]);
//# sourceMappingURL=795.23406541.chunk.js.map