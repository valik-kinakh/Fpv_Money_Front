"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[438],{1624:function(e,s,r){r.r(s),r.d(s,{default:function(){return q}});var i=r(1413),n=r(5861),o=r(885),t=r(7757),a=r.n(t),l="Login_error__SdyqE",c="Login_loaderWrapper__hgS64",d="Login_LoginInner__eQLxi",u="Login_title__SJ0Uv",p="Login_label__MvF1C",g="Login_input__6Emyd",m="Login_password__9rDlC",h="Login_register__SrZHL",x="Login_loginContainer__xABI1",_=r(3504),w=r(6871),L=r(7175),j=r(5705),f=r(132),v=r(6960),N=(r(5462),r(8909)),Z=r(6199),b=r(2099),S=r(2791),y=r(5501),k=r(9944),C=r(6153),F=r(184);v.Am.configure();var q=function(e){var s=e.getTokenHandler,r=e.isLoggedIn,t=e.logoutHandler,q=(0,S.useState)(!1),A=(0,o.Z)(q,2),I=A[0],P=A[1],U=(0,w.s0)(),B=f.Ry().shape({login:f.Z_().min(2).required("Required"),password:f.Z_().required("Required")}),H=(0,S.useState)(!1),R=(0,o.Z)(H,2),E=R[0],G=R[1],J=function(){G(!E)},M=function(){var e=(0,n.Z)(a().mark((function e(r,i){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,L.BG.userLogin(r);case 4:n=e.sent,s(n),localStorage.setItem("currentUser",JSON.stringify(n)),v.Am.success("Login success",{position:"top-center"}),P(!1),i.resetForm(),U("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),P(!1),v.Am.error(e.t0.response.data.message,{position:"top-center"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(s,r){return e.apply(this,arguments)}}(),T=(0,j.TA)({initialValues:{login:"",password:""},validationSchema:B,onSubmit:M});return(0,F.jsx)(N.Z,{children:(0,F.jsxs)("div",{className:x,children:[(0,F.jsxs)("form",{onSubmit:T.handleSubmit,children:[(0,F.jsxs)("div",{className:d,children:[(0,F.jsx)("h1",{className:u,children:"Login form"}),(0,F.jsx)("label",{htmlFor:"login",className:p,children:"Login"}),(0,F.jsx)("input",(0,i.Z)({className:g,id:"login",name:"login",type:"text",placeholder:"Login"},T.getFieldProps("login"))),T.touched.login&&T.errors.login?(0,F.jsx)("p",{className:l,children:T.errors.login}):null,(0,F.jsx)("label",{htmlFor:"password",className:p,children:"Password"}),(0,F.jsxs)("div",{className:m,children:[(0,F.jsx)("input",(0,i.Z)({className:g,id:"password",name:"password",type:E?"text":"password",placeholder:"Password"},T.getFieldProps("password"))),E?(0,F.jsx)("img",{src:b.Z,style:{width:"16px",cursor:"pointer"},onClick:J}):(0,F.jsx)("img",{src:Z.Z,style:{width:"16px",cursor:"pointer"},onClick:J})]}),T.touched.password&&T.errors.password?(0,F.jsx)("p",{className:l,children:T.errors.password}):null]}),I?(0,F.jsx)("div",{className:c,children:(0,F.jsx)(C.Z,{type:"Circles",color:"#ff8614",height:40,width:40})}):(0,F.jsx)(y.Mm,{text:"Log in",disabled:!(T.dirty&&T.isValid),className:"submitButton"})]}),r&&(0,F.jsx)(y.UC,{text:"Logout",disabled:!1,onClick:t}),(0,F.jsx)(_.rU,{to:k.Z.register,className:h,children:"Go to register"})]})})}}}]);
//# sourceMappingURL=Login.5a52691e.chunk.js.map