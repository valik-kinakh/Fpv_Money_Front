{"version":3,"file":"static/js/UserProfile.cd409f3c.chunk.js","mappings":"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","sources":["webpack://client/./src/Button/Button.module.css?2901","Button/SubmitButton.js","Button/UploadContent.js","webpack://client/./src/Button/CancelButton.module.css?0fd9","Button/CancelButton.js","webpack://client/./src/pages/UserProfile/UserProfile.module.css?93b3","pages/UserProfile/UserProfile.js","services/categories.js","services/product.js","services/user.js","services/common.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btnWrapper\":\"Button_btnWrapper__qLkFf\",\"btn\":\"Button_btn__EDhOk\"};","import s from \"./Button.module.css\";\n\nconst SubmitButton = ({ text }) => {\n  return (\n    <div className={s.btnWrapper}>\n      <button type=\"submit\" className={s.btn}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default SubmitButton;\n","import s from \"./Button.module.css\";\n\nconst UploadContentButton = ({ text, onClick, disabled }) => {\n\n  return (\n    <div className={s.btnWrapper}>\n      <button type='button' className={s.btn} onClick={onClick} disabled={disabled}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default UploadContentButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"btnWrapper\":\"CancelButton_btnWrapper__A2FYZ\",\"btn\":\"CancelButton_btn__8Kg8l\"};","import s from \"./CancelButton.module.css\";\n\nconst CancelButton = ({ text, onClick, disabled }) => {\n\n  return (\n    <div className={s.btnWrapper}>\n      <button type='button' className={s.btn} onClick={onClick} disabled={disabled}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default CancelButton;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"UserProfile_container__SeZs0\",\"header\":\"UserProfile_header__hjSjI\",\"divInput\":\"UserProfile_divInput__fRW6q\",\"save\":\"UserProfile_save__-Zgby\",\"loaderWrapper\":\"UserProfile_loaderWrapper__sCqao\",\"editWrapper\":\"UserProfile_editWrapper__u+28r\",\"editInput\":\"UserProfile_editInput__nnmvX\",\"buttons\":\"UserProfile_buttons__AfXmw\",\"buttons2\":\"UserProfile_buttons2__v2gDO\"};","import s from './UserProfile.module.css';\nimport Container from \"../../components/Container\";\nimport React, {useEffect, useState} from \"react\";\nimport {NavLink, useNavigate} from \"react-router-dom\";\nimport {userApi} from \"../../services\";\nimport routes from \"../../config/routes\";\n\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {UploadContentButton} from \"../../Button\";\nimport Loader from \"react-loader-spinner\";\n\ntoast.configure();\n\nconst UserProfile = ({isLoggedIn, id, login,logoutHandler}) => {\n    const navigate = useNavigate();\n    const [enableEdit, setEnableEdit] = useState(false);\n    const [name, setName] = useState(login ? login:'');\n    const [amountOfMoney, setAmountOfMoney] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [editLoading, setEditLoading] = useState(false);\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(()=>{\n        if (!isLoggedIn){\n            navigate('/login')\n        }\n    },[isLoggedIn])\n\n    useEffect(()=>{\n       if (login && id){\n           fetchUserMoney()\n       }\n       return () => {\n           setMounted(true);\n       }\n    },[login, id])\n\n    const fetchUserMoney = async () => {\n        try {\n            setLoading(true)\n            const response = await userApi.getAllUserMoney(id);\n            setAmountOfMoney(response)\n            setLoading(false)\n        }catch (e) {\n            setLoading(false);\n            toast.error(e.response.data.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    const editMode = () => {\n        setEnableEdit(!enableEdit);\n    }\n\n    const onChange = (e) => {\n        setName(e.target.value);\n    }\n\n    const updateUser = async () => {\n        try {\n            setEditLoading(true)\n            await userApi.editLogin(id,name);\n            toast.success('User successfully updated',{\n                position:'top-center'\n            });\n            setEnableEdit(!enableEdit);\n            setEditLoading(false)\n        }catch (e) {\n            setEditLoading(false)\n            toast.error(e.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    const handleDelete = async () => {\n        try {\n            await userApi.deleteUser(id);\n            toast.success('Account successfully deleted',{\n                position:'top-center'\n            })\n            logoutHandler();\n        }catch (e) {\n            toast.error(e.message,{\n                position:'top-center'\n            })\n        }\n    }\n\n    return(<Container>\n        {\n            loading ? <div className={s.loaderWrapper}>\n                <Loader type=\"Bars\" color=\"#ff8614\" height={200} width={200} />\n            </div> : <>\n                <h1 className={s.header}>User Profile</h1>\n                { id && login && <div className={s.container}>\n                    {\n                        enableEdit ? <div className={s.divInput}>\n                                <input type='text' className={s.editInput} value={name} onChange={onChange} maxLength={20}/>\n                                <div className={s.save}>\n                                    {\n                                        editLoading ? <div className={s.editWrapper}>\n                                            <Loader type=\"Circles\" color=\"#ff8614\" height={30} width={30} />\n                                        </div> : <UploadContentButton text='Save' disabled={!name} onClick={updateUser}/>\n                                    }\n                                </div>\n                            </div>:\n                            <h2 className={s.header}>{name}</h2>\n                    }\n                    <p className={s.header}>Invested money: {amountOfMoney.contributionCount}</p>\n                    {\n                        enableEdit?<div className={s.buttons2}>\n                            <div>\n                                <UploadContentButton text={enableEdit ? 'Cancel':'Edit profile'} disabled={false} onClick={editMode}/>\n                            </div>\n                            <div>\n                                <UploadContentButton text='Delete account' disabled={false} onClick={handleDelete}/>\n                            </div>\n                        </div> :<div className={s.buttons}>\n                            <div>\n                                <UploadContentButton text={enableEdit ? 'Cancel':'Edit profile'} disabled={false} onClick={editMode}/>\n                            </div>\n                            <div>\n                                <UploadContentButton text='Logout' disabled={false} onClick={logoutHandler}/>\n                            </div>\n                            <div>\n                                <NavLink to={routes.moneyReport}><UploadContentButton text='Add report'/></NavLink>\n                            </div>\n                        </div>\n                    }\n\n                </div>}\n            </>\n        }\n    </Container>)\n}\n\nexport default UserProfile;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addCategory = (name) => {\n    return axios.post(`/Catigories/add/${name}`).then(({data}) => data);\n}\n\nconst removeCategory = (id) => {\n    return axios.delete(`/Catigories/delete/${id}`)\n}\n\nconst editCategory = (newName, id) => {\n    return axios.post(`Catigories/changeName/${id}?newName=${newName}`)\n        .then(({data})=>data);\n}\n\nconst getCategories = () => {\n    return axios.get('/Catigories/GetAll').then(({data})=>data);\n}\n\nconst categoriesApi = {\n    addCategory,\n    removeCategory,\n    editCategory,\n    getCategories\n}\n\nexport default categoriesApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst addProduct = (product) => {\n    return axios.post('/Product/add', product).then(({data})=> data);\n}\n\nconst deleteProduct = (id) => {\n    return axios.delete(`/Product/delete/${id}`);\n}\n\nconst getProducts = (state) => {\n    return axios.get(`/Product/GetAll?state=${state}`).then(({data})=> data);\n}\n\nconst changeProductName = (id, name) => {\n    return axios.post(`Product/changeProductName/${id}?name=${name}`).then(({data})=> data);\n}\n\nconst changeProductCategory = (id, categoryName) => {\n    return axios.post(`Product/moveToCategory/${id}?categoryName=${categoryName}`).then(({data})=> data);\n}\n\nconst changeSellingPrice = (id, price) => {\n    return axios.post(`Product/addSallingPrice/${id}?price=${price}`).then(({data})=> data);\n}\n\nconst addArrivalDate = (id, date) => {\n    return axios.post(`Product/addArrivalDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst addSellingDate = (id, date) => {\n    return axios.post(`Product/addSallingDate/${id}?time=${date}`).then(({data})=> data);\n}\n\nconst productsApi = {\n    addProduct,\n    deleteProduct,\n    getProducts,\n    changeProductName,\n    changeProductCategory,\n    changeSellingPrice,\n    addArrivalDate,\n    addSellingDate\n}\n\nexport default productsApi;","import axios from \"axios\";\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset() {\n        axios.defaults.headers.common.Authorization = \"\";\n    },\n};\n\nconst userRegister = (user) => {\n    return axios.post('/User/register', user).then(({data})=> data);\n}\n\nconst userLogin = (user) => {\n    return axios.post('/User/login', user).then(({data})=>{\n        token.set(data.token);\n        return data;\n    });\n}\n\nconst deleteUser = (id) => {\n    return axios.delete(`/User/delete/${id}`).then(({data})=>data);\n}\n\nconst addUserCash = (cash, id) => {\n    return axios.post(`/User/addcashformonth/${id}`, cash).then(({data})=> data);\n}\n\nconst getAllUserMoney = (id) => {\n    return axios.get(`User/getAllUserMoney/${id}`).then(({data})=> data);\n}\n\nconst getAllUsers = () => {\n    return axios.get('User/getAllUsers').then(({data})=> data);\n}\n\nconst editLogin = (id,login) => {\n    return axios.post(`User/editLogin/${id}?newLogin=${login}`).then(({data})=> data);\n}\n\nconst usersApi = {\n    userRegister,\n    userLogin,\n    deleteUser,\n    addUserCash,\n    getAllUserMoney,\n    getAllUsers,\n    editLogin\n}\n\nexport default usersApi;","import axios from \"axios\";\n\nconst generateExel = () => {\n    return axios.get('/Common/generateExcel').then(({data}) => data);\n}\n\nconst getCashFlow = () => {\n    return axios.get('/Common/chashFlow').then(({data}) => data);\n}\n\nconst convertMoney = (from) => {\n    return axios.get(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${from}.json`)\n        .then(({data}) => data);\n}\n\nconst commonApi = {\n    generateExel,\n    getCashFlow,\n    convertMoney\n}\n\nexport default commonApi;"],"names":["text","className","s","type","onClick","disabled","toast","isLoggedIn","id","login","logoutHandler","navigate","useNavigate","useState","enableEdit","setEnableEdit","name","setName","amountOfMoney","setAmountOfMoney","loading","setLoading","editLoading","setEditLoading","setMounted","useEffect","fetchUserMoney","userApi","response","data","message","position","editMode","updateUser","handleDelete","Container","color","height","width","value","onChange","e","target","maxLength","contributionCount","to","routes","addCategory","axios","then","removeCategory","editCategory","newName","getCategories","productsApi","addProduct","product","deleteProduct","getProducts","state","changeProductName","changeProductCategory","categoryName","changeSellingPrice","price","addArrivalDate","date","addSellingDate","token","usersApi","userRegister","user","userLogin","deleteUser","addUserCash","cash","getAllUserMoney","getAllUsers","editLogin","generateExel","getCashFlow","convertMoney","from"],"sourceRoot":""}